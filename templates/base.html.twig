

<!DOCTYPE html>
<html>
	<head>
		{% block stylesheets %}{% endblock %}
			<link href="../css/fichier.css?v=59" rel="stylesheet"/>
			<link rel="stylesheet" href="{{ asset('css/popups.css') }}">
			<link rel="stylesheet" href="{{ asset('css/footer1.css') }}">

		<!-- CSS de Bootstrap -->
		
		<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
		<meta charset="utf-8"/>
		{% block javascripts %}
			{% block importmap %}
				{{ importmap('app') }}
			{% endblock %}
			<script id="link-juice-optimizer-js-extra" type="text/javascript"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
			<script src="{{ asset('js/popup.js') }}"></script>
		{% endblock %}

		<!-- Calendly Integration -->
		<link rel="preconnect" href="https://assets.calendly.com">
		<link rel="stylesheet" href="https://assets.calendly.com/assets/external/widget.css">
		
		<style>
		/* ===== CONTRAINTES GLOBALES ET OVERRIDES v20250929-15h54 ===== */
		html, body {
			max-width: 100vw !important;
			overflow-x: hidden !important;
			box-sizing: border-box !important;
		}
		
		*, *::before, *::after {
			box-sizing: border-box !important;
		}
		
		/* Contrainte globale pour tous les éléments du header */
		.header, .header * {
			box-sizing: border-box !important;
		}
		
		/* Éviter les débordements sur les menus */
		.header #menu .sub-menu {
			max-width: 100vw !important;
			box-sizing: border-box !important;
		}

		/* ===== OVERRIDES SPÉCIFIQUES POUR ÉLIMINER CONFLITS ===== */
		/* Neutralisation des styles de fichier.css pour le menu Formations */
		.header #menu .menu-item:nth-child(2) .sub-menu,
		.header #menu .menu-item:nth-child(2) .sub-menu *,
		.header #menu .menu-item:nth-child(2) .sub-menu li,
		.header #menu .menu-item:nth-child(2) .sub-menu li a {
			/* Reset complet des propriétés critiques */
			float: none !important;
			clear: none !important;
			position: static !important;
			left: auto !important;
			right: auto !important;
			top: auto !important;
			bottom: auto !important;
		}

		/* Override pour le conteneur principal du menu Formations */
		.header #menu .menu-item:nth-child(2) .sub-menu {
			/* Force les propriétés critiques définies plus haut */
			position: absolute !important;
			left: 50% !important;
			top: 100% !important;
			transform: translateX(-50%) !important;
		}

		/* ===== HEADER SIMPLE ===== */
		.header {
			position: fixed;
			left: 0;
			width: 100%;
			top: 0;
			z-index: 9000;
			padding-top: 0px;
			background: #0b3f89;
		}

		/* ===== CATÉGORIE IA DANS LE MEGA MENU ===== */
		.formation-category-column.ia-category-menu .category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			color: #1a1a1a !important;
			border: 2px solid #FFD700 !important;
			border-radius: 12px !important;
			position: relative;
			overflow: hidden;
			box-shadow: 
				0 8px 24px rgba(255, 215, 0, 0.3),
				0 4px 12px rgba(255, 165, 0, 0.2);
		}

		.formation-category-column.ia-category-menu .category-header a {
			color: #1a1a1a !important;
			font-weight: 900 !important;
			text-shadow: 0 1px 3px rgba(255, 215, 0, 0.3);
			display: flex;
			align-items: center;
			gap: 8px;
			position: relative;
		}

		/* Animation blanche supprimée pour IA - UX plus claire */

		/* Badge NOUVEAU - Design simple sur GOLD */
		.header #menu .formations-mega-menu .ia-category-menu .nouveau-badge {
			background: linear-gradient(135deg, #FF4757 0%, #FF6B6B 100%) !important;
			color: white !important;
			font-size: 8px !important;
			font-weight: 700 !important;
			padding: 2px 6px !important;
			border-radius: 8px !important;
			text-transform: uppercase !important;
			letter-spacing: 0.3px !important;
			box-shadow: 
				0 2px 8px rgba(255, 71, 87, 0.4),
				0 1px 4px rgba(255, 107, 107, 0.6) !important;
			border: 1px solid rgba(255, 255, 255, 0.8) !important;
			position: absolute;
			top: -3px;
			right: 8px;
			z-index: 15;
			margin: 0 !important;
		}

		@keyframes pulse-badge-menu {
			0%, 100% { 
				transform: scale(1);
				box-shadow: 
					0 3px 8px rgba(255, 107, 107, 0.4),
					0 2px 4px rgba(255, 107, 107, 0.6);
			}
			50% { 
				transform: scale(1.05);
				box-shadow: 
					0 4px 12px rgba(255, 107, 107, 0.6),
					0 3px 6px rgba(255, 107, 107, 0.8);
			}
		}

		/* Améliorer la lisibilité du mega menu général */
		.header #menu .formations-mega-menu {
			background: #ffffff !important;
			border: 2px solid #e2e8f0 !important;
			border-radius: 12px !important;
			box-shadow: 
				0 20px 50px rgba(0, 0, 0, 0.15),
				0 8px 24px rgba(11, 63, 137, 0.1) !important;
		}

		.header #menu .formations-mega-menu .category-header {
			background: linear-gradient(135deg, #f8fafc, #e2e8f0) !important;
			color: #1e293b !important;
			border: 1px solid #cbd5e1 !important;
			border-radius: 8px !important;
			padding: 12px 16px !important;
			margin-bottom: 12px !important;
		}

		.header #menu .formations-mega-menu .category-header a {
			color: #1e293b !important;
			font-weight: 700 !important;
			text-decoration: none;
		}

		.header #menu .formations-mega-menu .formation-links a {
			color: #475569 !important;
			padding: 8px 12px !important;
			border-radius: 6px !important;
			transition: all 0.3s ease !important;
		}

		.header #menu .formations-mega-menu .formation-links a:hover {
			background: #e2e8f0 !important;
			color: #0b3f89 !important;
			transform: translateX(4px) !important;
		}

		/* ===== MENU FORMATIONS - SOLUTION FINALE STABLE ===== */
		
		/* Conteneur parent stable */
		.header #menu .menu-item:nth-child(2) {
			position: relative !important;
		}

		/* Menu principal - Positionnement et dimensions fixes */
		.header #menu .menu-item:nth-child(2) .sub-menu {
			/* État initial */
			display: none !important;
			
			/* Positionnement robuste et centré */
			position: absolute !important;
			top: 100% !important;
			left: 50% !important;
			transform: translateX(-50%) !important;
			
			/* Dimensions calculées pour éviter tout débordement */
			width: clamp(320px, 92vw, 1000px) !important;
			max-width: calc(100vw - 40px) !important;
			
			/* Style visuel propre */
			background: #ffffff !important;
			border: 2px solid #0b3f89 !important;
			border-radius: 6px !important;
			box-shadow: 0 8px 24px rgba(0,0,0,0.15) !important;
			
			/* Z-index et interactivité */
			z-index: 9999 !important;
			opacity: 1 !important;
			visibility: visible !important;
			pointer-events: all !important;
			
			/* Espacement interne optimal */
			padding: 25px !important;
			box-sizing: border-box !important;
			overflow: visible !important;
		}

		/* Affichage au hover - Desktop uniquement */
		@media (min-width: 769px) {
			.header #menu .menu-item:nth-child(2):hover .sub-menu {
				display: flex !important;
				flex-wrap: wrap !important;
				justify-content: space-between !important;
				align-items: flex-start !important;
				gap: 15px !important;
			}
		}

		/* Responsive adaptatif */
		@media (max-width: 1200px) {
			.header #menu .menu-item:nth-child(2) .sub-menu {
				width: clamp(300px, 94vw, 800px) !important;
				padding: 20px !important;
				gap: 12px !important;
			}
		}

		@media (max-width: 900px) {
			.header #menu .menu-item:nth-child(2) .sub-menu {
				width: clamp(280px, 96vw, 600px) !important;
				padding: 18px !important;
				gap: 10px !important;
			}
		}

		.header__container {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 15px 20px;
			max-width: 1400px;
			position: relative;
			min-height: 60px;

			margin: 0 auto;
		}

		.logo-infpf {
			filter: brightness(0) invert(1);
		}

		/* Menu desktop seulement */
		@media (min-width: 769px) {
			#menu {
				display: flex;
				align-items: center;
			}
		}
		
		/* Menu mobile masqué par défaut - SIMPLE */
		@media (max-width: 768px) {
			/* Seul le menu principal est caché par défaut */
			#menu {
				display: none !important;
			}
		}

		/* Menu liste desktop seulement - ALIGNEMENT FORCÉ SUR UNE LIGNE */
		@media (min-width: 769px) {
			.header #menu .menu {
				display: flex !important;
				align-items: center !important;
				justify-content: center !important;
				gap: 20px !important;
				margin: 0 !important;
				padding: 0 !important;
				list-style: none !important;
				flex-wrap: nowrap !important;
			}
		}

		/* Force la suppression des séparateurs de menu */
		.header #menu .menu > .menu-item:before,
		.header #menu .menu > .menu-item::before {
			display: none !important;
			content: none !important;
		}

		.header #menu .menu-item > a,
		.header #menu .menu-item > span {
			color: white !important;
			text-decoration: none !important;
			font-weight: 500 !important;
			font-size: 15px !important;
			padding: 10px 16px !important;
			white-space: nowrap !important;
			border-radius: 6px !important;
			transition: all 0.3s ease !important;
			
		}

		.header #menu .menu-item > a:hover,
		.header #menu .menu-item > span:hover {
			background: rgba(255, 255, 255, 0.15);
		}

		/* ===== MENU FORMATIONS MEGA-MENU - VERSION FINALE ===== */
		
		/* Conteneur du menu formations */
		.header #menu .menu-formations-dropdown {
			position: relative;
		}
		
		/* NOUVEAU: Menu moderne SANS encadrement + largeur adaptée */
		.header #menu .menu-formations-dropdown .formations-mega-menu {
			display: none;
			position: absolute;
			top: 100%;
			left: -30px;
			background: rgba(255, 255, 255, 0.98);
			border: 1px solid rgba(0, 0, 0, 0.08);
			border-radius: 12px;
			box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
			padding: 12px;
			width: 280px;
			max-width: calc(100vw - 60px);
			height: auto;
			min-height: auto;
			z-index: 10000 !important;
			overflow: visible;
			backdrop-filter: blur(20px);
		}
		
		/* Affichage INSTANTANÉ - Pas d'animation pour fiabilité maximale */
		.header #menu .menu-formations-dropdown:hover .formations-mega-menu,
		.header #menu .formations-mega-menu:hover {
			display: block !important;
			opacity: 1 !important;
			visibility: visible !important;
			transform: none !important;
		}
		
		/* Desktop : disposition flexible avec retour à la ligne */
		@media (min-width: 769px) {
			.header #menu .menu-formations-dropdown .formations-mega-menu {
				height: auto;
				min-height: auto;
				overflow: visible;
			}
			
			.header #menu .menu-formations-dropdown:hover .formations-mega-menu {
				flex-wrap: wrap;
				overflow: visible;
				justify-content: center;
				align-items: start;
			}
		}
		
		/* NOUVEAU: Éléments SANS encadrement - complètement transparent */
		.header #menu .formations-mega-menu .formation-category-column {
			width: 100%;
			margin: 0;
			padding: 0;
			background: transparent;
			border: none;
			border-radius: 0;
			box-shadow: none;
			display: block;
			position: relative;
		}
		
		/* Positionnement spécial pour IA avec badge */
		.header #menu .formations-mega-menu .ia-category-menu {
			position: relative;
		}
		
		.header #menu .formations-mega-menu .ia-category-menu .category-header {
			position: relative;
			overflow: visible;
		}
		
		.header #menu .formations-mega-menu .formation-category-column:last-child {
			margin-bottom: 0;
		}
		
		/* Assurer que le menu couvre bien toute la hauteur */
		.header #menu .formations-mega-menu .all-formations-link {
			margin-top: 4px;
			margin-bottom: 0;
		}
		
		/* NOUVEAU: Header de catégorie comme élément de liste */
		.header #menu .formations-mega-menu .category-header {
			margin: 0;
			padding: 0;
			background: transparent;
			border-radius: 0;
			text-align: left;
			flex-shrink: 0;
			min-height: auto;
			display: block;
			position: relative;
			cursor: pointer;
		}
		
		.header #menu .formations-mega-menu .category-header a {
			color: #1d1d1f;
			text-decoration: none;
			font-size: 15px;
			font-weight: 600;
			text-transform: none;
			letter-spacing: -0.01em;
			display: flex;
			align-items: center;
			gap: 10px;
			text-align: left;
			line-height: 1.3;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			width: 100%;
			padding: 8px 12px;
			border-radius: 0;
			margin: 0;
			position: relative;
			background: transparent;
			box-shadow: none;
			border: none;
			transition: all 0.2s ease;
		}
		
		/* Icône SVG dans le header */
		.header #menu .formations-mega-menu .category-header a svg {
			flex-shrink: 0;
			transition: all 0.3s ease;
		}
		
		.header #menu .formations-mega-menu .category-header a::after {
			content: "›";
			font-size: 14px;
			color: #86868b;
			margin-left: auto;
			font-weight: 300;
			opacity: 0.7;
		}
		
		/* Hover subtle pour toutes les catégories SAUF IA */
		.header #menu .formations-mega-menu .formation-category-column:not(.ia-category-menu) .category-header:hover a {
			background: rgba(0, 102, 255, 0.06);
			transform: translateX(4px);
		}
		
		/* IA - Design GOLD CLEAN sans encadrement excessif */
		.header #menu .formations-mega-menu .ia-category-menu .category-header a {
			background: linear-gradient(135deg, #FFD700 0%, #FFC107 50%, #FF8F00 100%) !important;
			background-color: #FFD700 !important;
			color: #000000 !important;
			box-shadow: 0 2px 8px rgba(255, 215, 0, 0.3) !important;
			border: none !important;
			border-radius: 8px !important;
			font-weight: 700 !important;
		}
		
		
		/* Toutes les catégories avec touches bleu subtiles */
		.header #menu .formations-mega-menu .category-header a:has(svg) {
			background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
			border: 1px solid rgba(0, 102, 255, 0.12);
			color: #475569;
		}
		
		/* Hover général - accent bleu */
		.header #menu .formations-mega-menu .formation-category-column:not(.ia-category-menu) .category-header:hover a {
			background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
			border-color: rgba(0, 102, 255, 0.2);
			color: #1e40af;
		}
		
		/* Hover simplifié sans transformations */
		.header #menu .formations-mega-menu .category-header:hover a {
			box-shadow: 
				0 4px 16px rgba(0, 102, 255, 0.15),
				0 2px 8px rgba(0, 77, 179, 0.1);
		}
		
		.header #menu .formations-mega-menu .category-header:hover a::after {
			opacity: 1;
		}
		
		/* Hover spécial pour IA - GOLD simple et clean */
		.header #menu .formations-mega-menu .ia-category-menu:hover .category-header a {
			background: linear-gradient(135deg, #FFED4E 0%, #FFD700 50%, #FFC107 100%) !important;
			background-color: #FFD700 !important;
			color: #000000 !important;
			box-shadow: 0 4px 12px rgba(255, 215, 0, 0.5) !important;
			transform: translateX(4px) !important;
		}
		
		/* NOUVEAU: Sous-menu style Apple minimaliste */
		.header #menu .formations-mega-menu .formation-links {
			list-style: none;
			padding: 4px;
			margin: 0;
			display: none;
			flex-direction: column;
			gap: 1px;
			background: rgba(248, 248, 248, 0.8);
			border-radius: 10px;
			margin: 2px 8px 4px 8px;
			overflow: hidden;
			box-shadow: 
				inset 0 1px 0 rgba(255, 255, 255, 0.8),
				0 1px 3px rgba(0, 0, 0, 0.06);
			border: 0.5px solid rgba(0, 0, 0, 0.04);
			backdrop-filter: blur(20px);
		}
		
		/* Zone de hover étendue pour la catégorie */
		.header #menu .formations-mega-menu .formation-category-column {
			position: relative;
		}
		
		/* DÉSACTIVÉ: Plus de sous-menus, que les titres principaux */
		.header #menu .formations-mega-menu .formation-category-column:hover .formation-links {
			display: none !important;
		}
		
		.header #menu .formations-mega-menu .formation-links li {
			margin: 0;
			min-height: auto;
			flex-shrink: 0;
		}
		
		.header #menu .formations-mega-menu .formation-links a {
			display: block;
			padding: 6px 10px;
			color: #424245;
			text-decoration: none;
			font-size: 12px;
			font-weight: 400;
			line-height: 1.3;
			border-radius: 6px;
			background: transparent;
			border: none;
			transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
			text-align: left;
			box-sizing: border-box;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			width: 100%;
			position: relative;
			letter-spacing: -0.01em;
		}
		
		.header #menu .formations-mega-menu .formation-links a:hover {
			background: rgba(0, 122, 255, 0.08);
			color: #007AFF;
			transform: scale(1.01);
		}
		
		/* NOUVEAU: Lien "Voir toutes" style Apple */
		.header #menu .formations-mega-menu .see-all-link {
			margin-top: 4px;
			border-top: 0.5px solid rgba(0, 0, 0, 0.08);
			padding-top: 4px;
		}
		
		.header #menu .formations-mega-menu .see-all-link a {
			background: rgba(0, 122, 255, 0.1);
			color: #007AFF;
			font-weight: 500;
			font-size: 11px;
			text-align: center;
			text-transform: none;
			letter-spacing: -0.01em;
			border: 0.5px solid rgba(0, 122, 255, 0.2);
			padding: 6px 12px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 4px;
			white-space: nowrap;
			border-radius: 8px;
			transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
		}
		
		.header #menu .formations-mega-menu .see-all-link a::before {
			content: "→";
			font-size: 12px;
			opacity: 0.8;
		}
		
		.header #menu .formations-mega-menu .see-all-link a:hover {
			background: #007AFF;
			color: #ffffff;
			border-color: #007AFF;
			transform: scale(1.02);
		}
		
		/* Style pour "Toutes les formations" en bas - TEXTE BLANC LISIBLE */
		.header #menu .formations-mega-menu .all-formations-link .category-header a {
			background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%);
			color: white !important;
			font-weight: 600;
			border-top: 1px solid rgba(0, 0, 0, 0.08);
			margin-top: 4px;
			padding-top: 10px;
		}
		
		.header #menu .formations-mega-menu .all-formations-link:hover .category-header a {
			background: linear-gradient(135deg, #0056CC 0%, #003D99 100%);
			color: white !important;
		}
		
		/* Zones étendues supprimées pour fiabilité maximale */
		
		/* ===== RESPONSIVE STYLE APPLE ===== */
		
		@media (max-width: 1024px) {
			.header #menu .menu-formations-dropdown .formations-mega-menu {
				width: 220px;
				left: -5px;
			}
		}
		
		@media (max-width: 768px) {
			.header #menu .menu-formations-dropdown .formations-mega-menu {
				width: 200px;
				left: -20px;
				max-height: 65vh;
				padding: 6px;
			}
			
			.header #menu .formations-mega-menu .category-header a {
				padding: 6px 10px;
				font-size: 12px;
			}
		}
		
		@media (max-width: 480px) {
			.header #menu .menu-formations-dropdown .formations-mega-menu {
				width: 80vw;
				left: -40px;
				max-height: 60vh;
				padding: 6px;
			}
			
			.header #menu .formations-mega-menu .category-header a {
				padding: 6px 8px;
				font-size: 11px;
				gap: 6px;
			}
			
			.header #menu .formations-mega-menu .formation-links a {
				padding: 4px 8px;
				font-size: 11px;
			}
		}

		/* ===== SUPPRESSION RÈGLES REDONDANTES ===== */
		/* Cette section a été nettoyée pour éviter les conflits */



		/* ===== STYLES POUR LES AUTRES MENUS (L'École, Métiers, Information) ===== */
		
		/* Tous les sous-menus standards cachés par défaut */
		.header #menu .menu-item .sub-menu {
			display: none;
		}

		/* Affichage au survol pour les menus standards - FORCE */
		.header #menu .menu-item:hover > .sub-menu,
		.header #menu .menu-item:hover .sub-menu {
			display: block !important;
			opacity: 1 !important;
			visibility: visible !important;
		}
		
		/* Styles pour TOUS les menus simples (pas le menu formations) - Z-INDEX INFÉRIEUR */
		.header #menu .menu-item:not(.menu-formations-dropdown) .sub-menu {
			position: absolute;
			top: 100%;
			left: 0;
			background: #eaeef0;
			padding: 20px 25px;
			min-width: 250px;
			border-radius: 6px;
			border: 1px solid #d1d5db;
			box-shadow: 0 8px 20px rgba(0,0,0,0.12);
			z-index: 9000 !important;
		}
		
		.header #menu .menu-item:not(.menu-formations-dropdown) .sub-menu li {
			border-bottom: 1px solid #c3c4c5;
			width: 100%;
			margin: 0;
			padding: 0;
		}
		
		.header #menu .menu-item:not(.menu-formations-dropdown) .sub-menu li:last-child {
			border-bottom: 0;
		}
		
		.header #menu .menu-item:not(.menu-formations-dropdown) .sub-menu li a {
			display: flex;
			align-items: center;
			text-transform: uppercase;
			color: #1e3e5d;
			font-weight: 900;
			padding: 10px 0;
			font-size: 14px;
			text-decoration: none;
		}
		
		.header #menu .menu-item:not(.menu-formations-dropdown) .sub-menu li a:hover {
			color: #1e3e5d;
		}

		/* ===== FORMATIONS INDIVIDUELLES ÉLÉGANTES ===== */
		.header #menu .menu-item:nth-child(2) .sub-menu .sub-menu {
			/* Structure propre et lisible */
			display: flex !important;
			flex-direction: column !important;
			position: static !important;
			background: none !important;
			
			/* Espacement optimal */
			padding: 6px 0 8px 0 !important;
			margin-top: 6px !important;
			gap: 2px !important;
			
			/* Containment naturel */
			width: 100% !important;
			box-sizing: border-box !important;
			overflow: visible !important;
			
			/* Suppression effets inutiles */
			border: none !important;
			border-radius: 0 !important;
			box-shadow: none !important;
		}

		.header #menu .menu-item:nth-child(2) .sub-menu .sub-menu li {
			/* Éléments formation propres */
			width: 100% !important;
			margin: 0 0 2px 0 !important;
			padding: 0 !important;
			border: none !important;
			box-sizing: border-box !important;
		}

		.header #menu .menu-item:nth-child(2) .sub-menu .sub-menu li a {
			/* Affichage moderne et lisible */
			display: block !important;
			text-decoration: none !important;
			
			/* Style subtil et professionnel */
			background: #f8f9fb !important;
			border-radius: 4px !important;
			border-left: 3px solid transparent !important;
			
			/* Typographie claire */
			font-size: 12px !important;
			font-weight: 500 !important;
			color: #4a5568 !important;
			line-height: 1.4 !important;
			
			/* Espacement équilibré */
			padding: 7px 10px !important;
			margin: 0 !important;
			
			/* Gestion texte avancée */
			white-space: normal !important;
			word-wrap: break-word !important;
			overflow-wrap: break-word !important;
			hyphens: auto !important;
			
			/* Contraintes flexibles */
			width: 100% !important;
			min-height: 30px !important;
			box-sizing: border-box !important;
			
			/* Transition élégante */
			transition: all 0.2s ease !important;
		}

		/* Hover élégant pour les formations */
		.header #menu .menu-item:nth-child(2) .sub-menu .sub-menu li a:hover {
			background: #e6f3ff !important;
			color: #0b3f89 !important;
			border-left-color: #0b3f89 !important;
			transform: translateX(3px) !important;
		}

		/* Bouton "Voir plus" moderne */
		.header #menu .menu-item:nth-child(2) .sub-menu .see-more a {
			background: #0b3f89 !important;
			color: white !important;
			font-weight: 600 !important;
			text-align: center !important;
			text-transform: uppercase !important;
			font-size: 10px !important;
			letter-spacing: 0.5px !important;
			padding: 6px 12px !important;
			margin-top: 6px !important;
			border-radius: 15px !important;
			display: inline-block !important;
			border: none !important;
			box-shadow: 0 2px 4px rgba(11, 63, 137, 0.2) !important;
		}

		.header #menu .menu-item:nth-child(2) .sub-menu .see-more a:hover {
			background: #004080 !important;
			transform: translateY(-1px) !important;
			box-shadow: 0 4px 8px rgba(11, 63, 137, 0.3) !important;
		}

		/* ===== MENU MÉTIERS ULTRA-SPÉCIFIQUE - FORCE DROITE - PRIORITÉ ABSOLUE ===== */
		.header #menu .menu-item:nth-child(3) .sub-menu,
		.header #menu #menu-item-442839 .sub-menu,
		body .header #menu .menu-item:nth-child(3) .sub-menu,
		html body .header #menu .menu-item:nth-child(3) .sub-menu,
		.header #menu li:nth-child(3) .sub-menu,
		#menu-item-442839 .sub-menu,
		li#menu-item-442839 .sub-menu,
		.header li#menu-item-442839 .sub-menu {
			position: absolute !important;
			left: auto !important;
			right: 0 !important;
			top: 100% !important;
			background: #eaeef0 !important;
			padding: 20px 25px !important;
			width: 350px !important;
			max-width: 90vw !important;
			min-width: 250px !important;
			column-gap: initial !important;
			opacity: 1 !important;
			visibility: visible !important;
			transform: none !important;
			display: none !important;
			border-radius: 6px !important;
			backdrop-filter: none !important;
			border: 1px solid #d1d5db !important;
			box-shadow: 0 8px 20px rgba(0,0,0,0.12) !important;
			transition: none !important;
			z-index: 9000 !important;
			overflow: hidden !important;
		}

		/* FORCE ABSOLUE POUR LE MENU MÉTIERS - PRIORITÉ MAXIMALE */
		.header #menu .menu-item:nth-child(3) .sub-menu[style*="left"],
		.header #menu .menu-item:nth-child(3) .sub-menu[style*="right"] {
			left: auto !important;
			right: 0 !important;
		}
		
		.header #menu .menu-item:nth-child(3):hover .sub-menu,
		.header #menu #menu-item-442839:hover .sub-menu,
		body .header #menu .menu-item:nth-child(3):hover .sub-menu,
		html body .header #menu .menu-item:nth-child(3):hover .sub-menu,
		.header #menu li:nth-child(3):hover .sub-menu {
			display: block !important;
			opacity: 1 !important;
			visibility: visible !important;
			transform: none !important;
			left: auto !important;
			right: 0 !important;
		}

		.header #menu .menu-item:nth-child(3) .sub-menu li {
			border-bottom: 1px solid #c3c4c5 !important;
			width: 100% !important;
			margin: 0 !important;
			padding: 0 !important;
			margin-bottom: 0 !important;
		}

		.header #menu .menu-item:nth-child(3) .sub-menu li:last-child {
			border-bottom: 0 !important;
		}

		.header #menu .menu-item:nth-child(3) .sub-menu li a {
			display: flex !important;
			align-items: center !important;
			text-transform: uppercase !important;
			color: #1e3e5d !important;
			font-weight: 900 !important;
			padding: 10px 0 !important;
			font-size: 14px !important;
			letter-spacing: 0 !important;
			border-radius: 0 !important;
			transition: none !important;
			background: none !important;
		}

		.header #menu .menu-item:nth-child(3) .sub-menu li a:hover {
			background: none !important;
			color: #1e3e5d !important;
			transform: none !important;
		}

		/* ===== MENU L'ÉCOLE OPTIMISÉ (1er) - Z-INDEX RÉDUIT POUR ÉVITER CONFLITS ===== */
		.header #menu .menu-item:nth-child(1) .sub-menu {
			position: absolute !important;
			left: -30px !important;
			top: 100% !important;
			margin-top: 8px !important;
			background: #eaeef0 !important;
			padding: 20px 25px !important;
			width: 400px !important;
			max-width: 90vw !important;
			min-width: 280px !important;
			column-gap: initial !important;
			opacity: 1 !important;
			visibility: visible !important;
			transform: none !important;
			display: none !important;
			border-radius: 6px !important;
			backdrop-filter: none !important;
			border: 1px solid #d1d5db !important;
			box-shadow: 0 8px 20px rgba(0,0,0,0.12) !important;
			transition: none !important;
			z-index: 9000 !important;
			overflow: hidden !important;
		}

		.header #menu .menu-item:nth-child(1):hover .sub-menu {
			display: block !important;
			opacity: 1 !important;
			visibility: visible !important;
			transform: none !important;
		}

		.header #menu .menu-item:nth-child(1) .sub-menu li {
			border-bottom: 1px solid #c3c4c5 !important;
			width: 100% !important;
			margin: 0 !important;
			padding: 0 !important;
			margin-bottom: 0 !important;
		}

		.header #menu .menu-item:nth-child(1) .sub-menu li:last-child {
			border-bottom: 0 !important;
		}

		.header #menu .menu-item:nth-child(1) .sub-menu li a {
			display: flex !important;
			align-items: center !important;
			text-transform: uppercase !important;
			color: #1e3e5d !important;
			font-weight: 900 !important;
			padding: 10px 0 !important;
			font-size: 14px !important;
			letter-spacing: 0 !important;
			border-radius: 0 !important;
			transition: none !important;
			background: none !important;
		}

		.header #menu .menu-item:nth-child(1) .sub-menu li a:hover {
			background: none !important;
			color: #1e3e5d !important;
			transform: none !important;
		}





		/* Boutons CTA simples */
		.header__cta {
			padding: 12px 24px;
			color: white;
			text-decoration: none;
			font-weight: 600;
			font-size: 14px;
			margin-left: 10px;
			border-radius: 25px;
			transition: all 0.3s ease;
		}

		.header__cta__INFPFlearning {
			background: rgba(255, 255, 255, 0.2);
			border: 2px solid rgba(255, 255, 255, 0.3);
		}

		.header__cta__INFPFlearning:hover {
			background: rgba(255, 255, 255, 0.3);
		}

		.header__cta__doc {
			background: #d71a22;
			cursor: pointer;
		}

		.header__cta__doc:hover {
			background: #b5161c;
		}

		/* ===== FIX PROBLÈME BOUTONS QUI DISPARAISSENT AU SCROLL ===== */
		/* Override du CSS fichier.css qui cache les boutons INFPFlearning */
		.header--scrolling .header__cta__INFPFlearning {
			display: inline-block !important;
			opacity: 1 !important;
			visibility: visible !important;
		}

		/* Assurer que les boutons restent visibles dans tous les états */
		.header__cta__INFPFlearning,
		.header__cta__doc {
			display: inline-block !important;
		}

		/* ===== AMÉLIORATION ESPACEMENT ET ALIGNEMENT BOUTONS ===== */
		.header-cta-container {
			display: flex;
			align-items: center;
			gap: 10px;
			margin-left: 20px;
		}

		/* Alignement symétrique dans le header container - TOUT SUR UNE LIGNE */
		.header__container {
			display: flex !important;
			align-items: center !important;
			justify-content: space-between !important;
			padding: 15px 25px !important;
			max-width: 1400px !important;
			margin: 0 auto !important;
			position: relative !important;
			gap: 20px !important;
		}

		/* Groupe navigation + boutons pour l'alignement */
		.header-nav-group {
			display: flex;
			align-items: center;
			gap: 20px;
		}

		/* Logo - prend la largeur minimale nécessaire */
		.header__container > a {
			flex: 0 0 auto !important;
			margin-right: 0 !important;
		}

		/* Menu centré - prend l'espace disponible et centre son contenu - DESKTOP SEULEMENT */
		@media (min-width: 769px) {
			.header__container #menu {
				flex: 1 !important;
				display: flex !important;
				justify-content: center !important;
				margin: 0 !important;
			}
		}

		/* Menu container - DESKTOP SEULEMENT */
		@media (min-width: 769px) {
			.header__container #menu .menu {
				display: flex !important;
				justify-content: center !important;
				align-items: center !important;
				gap: 30px !important;
				margin: 0 !important;
				padding: 0 !important;
				list-style: none !important;
			}
		}

		/* Éléments de menu - DESKTOP SEULEMENT */
		@media (min-width: 769px) {
			.header__container #menu .menu > .menu-item > a,
			.header__container #menu .menu > .menu-item > span {
				padding: 12px 20px !important;
				color: white !important;
				text-decoration: none !important;
				font-weight: 500 !important;
				font-size: 15px !important;
				border-radius: 6px !important;
				transition: all 0.3s ease !important;
			}

			.header__container #menu .menu > .menu-item > a:hover,
			.header__container #menu .menu > .menu-item > span:hover {
				background: rgba(255, 255, 255, 0.15) !important;
			}
		}

		/* Conteneur des actions header (boutons + burger) - ALIGNÉ À DROITE */
		.header-actions {
			flex: 0 0 auto !important;
			display: flex !important;
			align-items: center !important;
			gap: 12px !important;
			position: relative !important;
			z-index: 9001 !important;
		}

		/* Boutons CTA sur la même ligne - DESKTOP SEULEMENT */
		@media (min-width: 769px) {
			.header-actions {
				margin-left: auto !important;
			}
			
			.header__cta {
				white-space: nowrap !important;
				padding: 10px 18px !important;
				font-size: 14px !important;
			}
		}

		/* Responsive ajustements pour écrans moyens - tout reste sur une ligne */
		@media (max-width: 1200px) and (min-width: 769px) {
			.header__container {
				gap: 15px !important;
				padding: 12px 18px !important;
			}
			
			.header #menu .menu {
				gap: 16px !important;
			}
			
			.header #menu .menu-item > a,
			.header #menu .menu-item > span {
				font-size: 14px !important;
				padding: 8px 12px !important;
			}
			
			.header__cta {
				padding: 8px 14px !important;
				font-size: 13px !important;
			}
		}

		@media (max-width: 992px) and (min-width: 769px) {
			.header__container {
				gap: 12px !important;
				padding: 10px 15px !important;
			}
			
			.header #menu .menu {
				gap: 14px !important;
			}
			
			.header #menu .menu-item > a,
			.header #menu .menu-item > span {
				font-size: 13px !important;
				padding: 6px 10px !important;
			}
			
			.header__cta {
				padding: 6px 12px !important;
				font-size: 12px !important;
			}
		}

		/* OVERRIDE GLOBAL ULTRA-PUISSANT pour les textes de menu mobile */
		.header--active #menu a:not(.header__cta),
		.header--active #menu span:not(.header__cta),
		body .header--active #menu a:not(.header__cta),
		body .header--active #menu span:not(.header__cta),
		html body .header--active #menu a:not(.header__cta),
		html body .header--active #menu span:not(.header__cta) {
			color: #0b3f89 !important;
		}

		/* Neutraliser les styles de fichier.css qui forcent la couleur blanche */
		.header--active #menu .menu a,
		.header--active #menu .menu span {
			color: #0b3f89 !important;
		}

		/* Burger menu simple */
		.header__menu-burger {
			display: none;
			flex-direction: column;
			cursor: pointer;
			padding: 10px;
			position: relative;
			z-index: 9999;
			order: 999;
			flex-shrink: 0;
		}

		.header__menu-burger__trait {
			width: 25px;
			height: 3px;
			background: white;
			margin: 3px 0;
			transition: all 0.3s ease;
		}

		/* Info utilisateur simple */
		.user-info {
			display: flex;
			align-items: center;
			gap: 1.5rem;
			color: white;
			font-size: 16px;
		}

		.user-welcome {
			display: flex;
			align-items: center;
			padding: 1.2rem 2rem;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 30px;
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.2);
		}

		.welcome-content {
			display: flex;
			flex-direction: column;
			line-height: 1.2;
		}

		.welcome-greeting {
			font-size: 1.1rem;
			opacity: 0.8;
			font-weight: 400;
		}

		.welcome-username {
			font-size: 1.4rem;
			font-weight: 600;
			color: #ffffff;
		}

		.header__cta__logout {
			display: flex !important;
			align-items: center;
			padding: 1.2rem 2rem !important;
			background: linear-gradient(135deg, #dc2626, #b91c1c) !important;
			color: white !important;
			border: 2px solid #dc2626 !important;
			border-radius: 30px !important;
			font-size: 1.3rem !important;
			font-weight: 600;
			transition: all 0.3s ease !important;
			text-decoration: none;
		}

		.header__cta__logout:hover {
			background: linear-gradient(135deg, #b91c1c, #991b1b) !important;
			transform: translateY(-2px);
			box-shadow: 0 4px 15px rgba(220, 38, 38, 0.4) !important;
		}


		/* Responsive */
		@media (max-width: 1024px) {
			.header__container {
				padding: 12px 20px !important;
			}

			.user-info {
				gap: 1rem;
			}

			.user-welcome {
				padding: 1rem 1.5rem;
				border-radius: 25px;
			}

			.welcome-greeting {
				font-size: 1rem;
			}

			.welcome-username {
				font-size: 1.2rem;
			}

			.header__cta__logout {
				padding: 1rem 1.5rem !important;
				font-size: 1.1rem !important;
				border-radius: 25px !important;
			}
		}

		@media (max-width: 768px) {
			.user-info {
				gap: 0.8rem;
				flex-wrap: wrap;
			}

			.user-welcome {
				padding: 0.8rem 1.2rem;
			}

			.welcome-greeting {
				font-size: 0.9rem;
			}

			.welcome-username {
				font-size: 1.1rem;
			}

			.header__cta__logout {
				padding: 0.8rem 1.2rem !important;
				font-size: 1rem !important;
			}
		}

		@media (max-width: 768px) {
			.header__container {
				padding: 10px 15px !important;
				position: relative !important;
				display: flex !important;
				align-items: center !important;
				justify-content: space-between !important;
				width: 100% !important;
				box-sizing: border-box !important;
			}
			
			/* PROTECTION ABSOLUE - Les CTA mobiles sont cachés par défaut */
			.menu-mobile-ctas {
				display: none !important;
				visibility: hidden !important;
				opacity: 0 !important;
			}
			
			.header__container #menu {
				display: none !important;
			}
			
			.header__menu-burger {
				display: flex !important;
				position: relative !important;
				z-index: 9999 !important;
				order: 999 !important;
				flex-shrink: 0 !important;
				margin-left: auto !important;
			}
			
			/* Masquer les boutons connexion/infpflearning sur mobile - ils sont dans le menu burger */
			.header-actions {
				position: absolute !important;
				top: -9999px !important;
				left: -9999px !important;
				visibility: hidden !important;
				opacity: 0 !important;
				pointer-events: none !important;
				width: 0 !important;
				height: 0 !important;
				overflow: hidden !important;
			}
		}
		@media (max-width: 768px) {
  .header #menu .sub-menu {
    position: static !important;
    left: auto !important;
    top: auto !important;
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    background: #fff !important;
    display: none;
    padding: 0 !important;
    margin: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
    max-height: 70vh;
    overflow-y: auto;
  }
  .header #menu .sub-menu.sub-menu--active {
    display: block !important;
  }
  .header #menu .sub-menu li a {
    display: block;
    width: 100%;
    padding: 14px 32px !important;
    font-size: 1.08rem;
    font-weight: 600;
    color: #0b3f89;
    text-align: left;
    border-bottom: 1px solid #e5e5e5;
    box-sizing: border-box;
  }
  .header #menu .sub-menu li:last-child a {
    border-bottom: none;
  }
}


		/* Système Calendly simple */
		.calendly-btn {
			display: inline-block;
			background: #0b3f89;
			color: white;
			padding: 12px 24px;
			text-decoration: none;
			font-weight: 600;
			font-size: 16px;
			border: none;
			cursor: pointer;
			text-align: center;
		}

		.calendly-btn:hover {
			background: #004080;
			color: white;
			text-decoration: none;
		}

		/* Variantes de taille */
		.calendly-btn--small {
			padding: 8px 16px;
			font-size: 14px;
		}

		.calendly-btn--large {
			padding: 16px 32px;
			font-size: 18px;
		}

		/* Variantes de style */
		.calendly-btn--outline {
			background: transparent;
			border: 2px solid #0b3f89;
			color: #0b3f89;
		}

		.calendly-btn--outline:hover {
			background: #0b3f89;
			color: white;
		}

		/* Responsive */
		@media (max-width: 768px) {
			.calendly-btn {
				padding: 14px 20px;
				font-size: 15px;
				width: 100%;
				max-width: 300px;
			}
		}

		/* ===== SELECT NATIF FORMATIONS AVEC CATÉGORIES COLORÉES ===== */
		
		.select-container {
			position: relative;
			width: 100%;
			max-width: 450px;
			margin: 0 auto;
		}
		
		/* Masquer les animations de fond quand le select est actif */
		.select-container:focus-within ~ * [data-aos],
		.select-container:focus-within ~ .scroll-indicator,
		.select-container:focus-within ~ .wave-separator {
			opacity: 0.1 !important;
			transition: opacity 0.2s ease !important;
		}
		
		.modern-select {
			width: 100%;
			padding: 18px 50px 18px 20px;
			font-size: 16px;
			font-weight: 500;
			color: #2d3748;
			background: #ffffff;
			border: 2px solid #e1e8f0;
			border-radius: 12px;
			outline: none;
			cursor: pointer;
			appearance: none;
			-webkit-appearance: none;
			-moz-appearance: none;
			box-shadow: 0 4px 20px rgba(11, 63, 137, 0.08);
			transition: all 0.3s ease;
			z-index: 10000;
			position: relative;
			
			/* Optimisé pour 49 formations */
			max-height: 500px;
			overflow-y: auto;
			min-width: 420px;
		}
		
		/* Dropdown au premier plan avec z-index très élevé */
		.modern-select:focus,
		.modern-select:active {
			z-index: 999999 !important;
			box-shadow: 0 12px 40px rgba(11, 63, 137, 0.2) !important;
		}
		
		/* Assurer que la dropdown du select soit au premier plan */
		.modern-select:focus option,
		.modern-select:active option {
			background: #ffffff;
			color: #2d3748;
		}
		
		/* Améliorer la visibilité du dropdown */
		.modern-select option {
			padding: 10px 16px;
			line-height: 1.6;
			font-size: 14px;
			color: #4a5568;
			background: #ffffff;
		}
		
		.modern-select option:hover {
			background: #e6f3ff !important;
			color: #0b3f89 !important;
		}
		
		/* Styles pour les optgroups - tentative de coloration */
		.modern-select optgroup {
			font-weight: bold;
			font-size: 15px;
			padding: 12px 8px;
			margin: 4px 0;
			color: #ffffff;
			background: #0b3f89;
			border-radius: 4px;
		}
		
		/* Styles spécifiques par catégorie (si supporté) */
		.modern-select optgroup[data-category="finance"] {
			background: #3b82f6 !important;
		}
		
		.modern-select optgroup[data-category="informatique"] {
			background: #10b981 !important;
		}
		
		.modern-select optgroup[data-category="management"] {
			background: #ef4444 !important;
		}
		
		.modern-select optgroup[data-category="marketing"] {
			background: #a855f7 !important;
		}
		
		.modern-select optgroup[data-category="sante"] {
			background: #f97316 !important;
		}
		
		.modern-select optgroup[data-category="beaute"] {
			background: #f472b6 !important;
		}
		
		.modern-select optgroup[data-category="cuisine"] {
			background: #facc15 !important;
			color: #1f2937 !important;
		}
		
		.modern-select optgroup[data-category="social"] {
			background: #06b6d4 !important;
		}
		
		.modern-select optgroup[data-category="petite-enfance"] {
			background: #8b5cf6 !important;
		}
		
		/* Amélioration supplémentaire de la visibilité */
		.modern-select optgroup {
			border: 2px solid transparent;
			margin: 2px 0;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}
		
		/* Espacement entre les groupes d'options */
		.modern-select optgroup + optgroup {
			border-top: 1px solid #e2e8f0;
			margin-top: 6px;
		}
		
		.modern-select:hover {
			border-color: #0b3f89;
			box-shadow: 0 6px 25px rgba(11, 63, 137, 0.12);
		}
		
		.modern-select:focus {
			border-color: #0b3f89;
			box-shadow: 0 8px 30px rgba(11, 63, 137, 0.15);
		}
		
		.select-container .select-arrow {
			position: absolute;
			top: 50%;
			right: 20px;
			transform: translateY(-50%);
			color: #0b3f89;
			pointer-events: none;
			z-index: 1;
		}
		
		/* Z-index élevé pour passer au premier plan */
		.modern-select:focus,
		.modern-select:active {
			z-index: 99999 !important;
			position: relative;
		}
		

		
		/* Responsive */
		@media (max-width: 768px) {
			.select-container {
				max-width: 100%;
			}
			
			.modern-select {
				padding: 16px 40px 16px 18px;
				font-size: 15px;
				min-width: 350px;
				max-height: 400px;
			}
			
			.select-container .select-arrow {
				right: 18px;
			}
			
			.modern-select optgroup {
				font-size: 14px;
				padding: 10px 6px;
			}
			
			.modern-select option {
				padding: 9px 14px;
				font-size: 13px;
			}
		}
		
		@media (max-width: 480px) {
			.modern-select {
				padding: 14px 35px 14px 16px;
				font-size: 14px;
				min-width: 300px;
				max-height: 350px;
			}
			
			.select-container .select-arrow {
				right: 16px;
			}
			
			.modern-select optgroup {
				font-size: 13px;
				padding: 8px 4px;
			}
			
			.modern-select option {
				padding: 8px 12px;
				font-size: 12px;
			}
		}

		/* ===== TITRE CENTRÉ ET VRAIMENT AGRANDI ===== */
		.section-title.centered-title {
			text-align: center !important;
			font-size: 4rem !important;
			font-weight: 900 !important;
			margin: 1rem auto 3rem auto !important;
			max-width: 1200px !important;
			color: #0b3f89 !important;
			line-height: 1.1 !important;
			letter-spacing: 0.03em !important;
			display: block !important;
			width: 100% !important;
			text-transform: uppercase !important;
			text-shadow: 0 2px 4px rgba(11, 63, 137, 0.1) !important;
		}
		
		/* S'assurer que le conteneur parent permette le centrage */
		.categories-section .container {
			text-align: center !important;
		}
		
		/* Responsive pour le titre */
		@media (max-width: 768px) {
			.section-title.centered-title {
				font-size: 3.2rem !important;
				margin: 0.8rem auto 2.5rem auto !important;
				letter-spacing: 0.02em !important;
			}
		}
		
		@media (max-width: 480px) {
			.section-title.centered-title {
				font-size: 2.5rem !important;
				margin: 0.5rem auto 2rem auto !important;
				line-height: 1.2 !important;
				letter-spacing: 0.01em !important;
			}
		}

		/* ===== CORRECTION PADDING MAIN POUR HEADER FIXE ===== */
		main.site-main {
			padding-top: 120px !important; /* Augmenté pour compenser la hauteur du header */
		}

		/* Responsive padding */
		@media (max-width: 1024px) {
			main.site-main {
				padding-top: 100px !important;
			}
		}

		@media (max-width: 768px) {
			main.site-main {
				padding-top: 80px !important;
			}
		}

		@media (max-width: 768px) {
			.menu-mobile-close {
				display: none;
				position: absolute;
				top: 15px;
				right: 15px;
				background: #ffffff;
				border: 2px solid #0b3f89;
				border-radius: 50%;
				width: 40px;
				height: 40px;
				font-size: 1.5rem;
				color: #0b3f89;
				z-index: 10001;
				cursor: pointer;
				padding: 0;
				line-height: 1;
				align-items: center;
				justify-content: center;
				box-shadow: 0 2px 8px rgba(11, 63, 137, 0.2);
				transition: all 0.3s ease;
				font-weight: bold;
			}
			.menu-mobile-close:hover {
				background: #0b3f89;
				color: white;
				transform: scale(1.05);
			}
			.header--active .menu-mobile-close {
				display: flex !important;
			}
			.menu-mobile-ctas {
				display: none !important;
				flex-direction: column;
				gap: 12px;
				margin: 32px 0 0 0;
				align-items: center;
				width: 100%;
			}
			
			/* Afficher les CTA seulement quand le menu est actif */
			.header--active .menu-mobile-ctas {
				display: flex !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			.menu-mobile-ctas .header__cta {
				width: 90%;
				margin: 0 auto;
				text-align: center;
				font-size: 1.1rem;
			}
		}
		@media (min-width: 769px) {
			.menu-mobile-close, .menu-mobile-ctas {
				display: none !important;
			}
		}
		
		/* FORCER LE MEGA-MENU FORMATIONS À ÊTRE MOBILE */
		@media (max-width: 768px) {
			/* Mega-menu formations transformé en sous-menu simple */
			.header #menu .menu-formations-dropdown .formations-mega-menu {
				display: none !important;
				position: static !important;
				width: 100% !important;
				height: auto !important;
				max-height: none !important; /* Hauteur adaptative */
				left: 0 !important;
				right: 0 !important;
				top: auto !important;
				transform: none !important;
				max-width: 100% !important;
				overflow-y: auto !important; /* Permettre le scroll vertical */
				overflow-x: hidden !important;
				background: #f0f4f8 !important; /* Même fond que les autres sous-menus */
				padding: 8px 0 !important;
				margin: 0 !important;
				border: none !important;
				box-shadow: inset 0 1px 3px rgba(0,0,0,0.1) !important; /* Même ombre */
				flex-direction: column !important;
				flex-wrap: nowrap !important;
			}
			
			/* Mega-menu visible quand actif */
			.header #menu .menu-formations-dropdown .formations-mega-menu.sub-menu--active {
				display: block !important;
			}
			
			/* Catégories du mega-menu simplifiées */
			.header #menu .formations-mega-menu .formation-category-column {
				width: 100% !important;
				margin: 0 !important;
				padding: 0 !important;
				border-bottom: 1px solid #e2e8f0 !important;
				box-sizing: border-box !important;
				height: auto !important;
				min-height: auto !important;
				max-height: none !important;
			}
			
			/* Headers de catégorie comme des liens de sous-menu */
			.header #menu .formations-mega-menu .category-header {
				margin: 0 !important;
				padding: 0 !important;
				background: transparent !important;
				border-radius: 0 !important;
				min-height: auto !important;
			}
			
			.header #menu .formations-mega-menu .category-header a {
				display: block !important;
				width: 100% !important;
				color: #374151 !important;
				background: transparent !important;
				padding: 14px 16px 14px 40px !important;
				font-size: 0.95rem !important;
				font-weight: 500 !important;
				text-align: left !important;
				text-decoration: none !important;
				border-left: 3px solid transparent !important;
				min-height: 48px !important;
				box-sizing: border-box !important;
			}
			
			.header #menu .formations-mega-menu .category-header a:hover {
				background: #ffffff !important;
				color: #0b3f89 !important;
				border-left-color: #0b3f89 !important;
				transform: translateX(3px) !important;
			}
			
			/* Masquer les liens de formation détaillés mais garder les boutons voir toutes */
			.header #menu .formations-mega-menu .formation-links {
				display: none !important;
			}
			
			/* Garder visible les boutons voir toutes sur mobile */
			.header #menu .formations-mega-menu .see-all-link {
				display: block !important;
				margin-top: 8px;
			}
			
			/* Style spécial pour la colonne globale sur mobile */
			.header #menu .formations-mega-menu .global-voir-toutes {
				background: #0b3f89 !important;
				border: none !important;
				order: -1; /* Mettre en premier */
			}
			
			.header #menu .formations-mega-menu .global-voir-toutes .category-header a {
				color: white !important;
				background: transparent !important;
				font-weight: 600 !important;
			}
			
			/* Correction pour éviter les conflits d'anciens styles */
			#menu.overflow {
				overflow: auto !important;
			}
			
			/* Assurer une structure propre - permettre le scroll */
			body.overflow {
				overflow: auto !important;
			}
			
			/* Forcer tous les conteneurs à ne pas déborder horizontalement */
			.header #menu *,
			.header #menu .menu-item,
			.header #menu .sub-menu,
			.header #menu .formations-mega-menu,
			.header #menu .formation-category-column,
			.header #menu .formation-links,
			.header #menu li,
			.header #menu a {
				max-width: 100vw !important;
				box-sizing: border-box !important;
				overflow-x: hidden !important;
				/* Permettre le scroll vertical */
				overflow-y: visible !important;
			}
			
			/* Règle ultime anti-débordement pour mobile */
			.header--active #menu * {
				max-width: 100vw !important;
			}
		}
		
		/* OPTIMISATION SPÉCIFIQUE IPHONE 12 PRO (390px) */
		@media (max-width: 390px) {
			.header #menu .sub-menu li a,
			.header #menu .menu-item:nth-child(1) .sub-menu li a,
			.header #menu .menu-item:nth-child(2) .sub-menu li a,
			.header #menu .menu-item:nth-child(3) .sub-menu li a {
				padding: 12px 16px 12px 32px !important;
				font-size: 0.9rem !important;
			}
			
			.menu > li > a, .menu > li > span {
				padding: 14px 20px !important;
				font-size: 1rem !important;
			}
			
			.header #menu .formations-mega-menu .category-header {
				padding: 12px 20px !important;
			}
		}

		/* === MENU MOBILE SIMPLE ET FONCTIONNEL === */
		@media (max-width: 768px) {
			#menu {
				display: none;
			}
			
			.header--active #menu {
				display: block !important;
				position: fixed !important;
				top: 0 !important;
				left: 0 !important;
				right: 0 !important;
				width: 100vw !important;
				height: 100vh !important;
				background: white !important;
				z-index: 99999 !important;
				overflow-y: auto !important;
				overflow-x: hidden !important;
				padding: 80px 0 120px 0 !important;
				margin: 0 !important;
				box-sizing: border-box !important;
				/* Reset complet pour éviter l'héritage */
				flex: none !important;
				align-items: stretch !important;
				justify-content: flex-start !important;
			}
			
			/* Liste du menu */
			.header--active #menu .menu {
				display: flex !important;
				flex-direction: column !important;
				list-style: none !important;
				margin: 0 !important;
				padding: 0 20px !important;
				width: 100% !important;
				box-sizing: border-box !important;
				visibility: visible !important;
			}
			
			/* Items du menu */
			.header--active #menu .menu > li {
				display: block !important;
				width: 100% !important;
				border-bottom: 1px solid #eee !important;
				margin: 0 !important;
				padding: 0 !important;
				box-sizing: border-box !important;
				visibility: visible !important;
			}
			
			/* Liens du menu */
			.header--active #menu .menu > li > a,
			.header--active #menu .menu > li > span {
				display: block !important;
				width: 100% !important;
				padding: 20px 0 !important;
				color: #0b3f89 !important;
				text-decoration: none !important;
				font-size: 18px !important;
				font-weight: 500 !important;
				text-align: left !important;
				box-sizing: border-box !important;
				visibility: visible !important;
			}
			

		/* Permettre le scroll dans le menu mobile */
		body.menu-mobile-open {
			overflow: auto !important;
		}
		
		/* CORRECTION Z-INDEX: Quand le menu burger est ouvert, les filtres passent derrière */
		body.menu-mobile-open .mobile-filter-toggle,
		body.menu-mobile-open .mobile-filter-overlay,
		body.menu-mobile-open .mobile-filter-panel {
			z-index: 1 !important;
			pointer-events: none !important;
		}
		
		/* Mais quand les filtres sont ouverts normalement, ils passent au-dessus de la nav */
		.mobile-filter-overlay.active {
			z-index: 15000 !important;
		}
		
		.mobile-filter-panel.active {
			z-index: 15001 !important;
		}
		
		/* Forcer le menu burger à rester au top niveau */
		.header--active #menu {
			z-index: 99999 !important;
		}
		
		.header--active .header__menu-burger {
			z-index: 100000 !important;
			display: none !important; /* Masquer le burger quand le menu est ouvert */
		}
		
		/* Règle générale: Header et menu burger toujours au dessus des filtres */
		.header {
			z-index: 10000 !important;
			position: fixed !important;
		}
		
		.header * {
			z-index: inherit !important;
		}
		
		.header__menu-burger {
			z-index: 50000 !important;
		}
		
		/* ===== RESPONSIVE GLOBAL ===== */
		* {
			box-sizing: border-box !important;
		}

		html, body {
			overflow-x: hidden !important; /* Empêche le scroll horizontal */
			max-width: 100vw !important;
		}

		/* Container responsif pour tout le contenu */
		.entry-content, 
		.bodyclass, 
		.container {
			max-width: 100% !important;
			overflow-x: hidden !important;
			padding-left: 15px !important;
			padding-right: 15px !important;
		}

		/* ===== IMAGES DE BANNIÈRE RESPONSIVES ===== */
		.im {
			width: calc(100% - 30px) !important; /* Laisse de l'espace sur les côtés */
			max-width: 1200px !important; /* Limite la largeur maximale */
			height: 200px !important;
			object-fit: cover !important;
			object-position: center !important;
			margin: 20px auto 30px auto !important; /* Centré avec marges auto */
			border-radius: 12px !important;
			box-shadow: 0 4px 20px rgba(11, 63, 137, 0.1) !important;
			display: block !important; /* Force le block pour centrer */
		}

		/* Responsive pour les images de bannière */
		@media (max-width: 1024px) {
			.im {
				width: calc(100% - 20px) !important;
				height: 180px !important;
				margin: 15px auto 25px auto !important;
			}
		}

		@media (max-width: 768px) {
			.im {
				width: calc(100% - 15px) !important;
				height: 150px !important;
				margin: 15px auto 20px auto !important;
				border-radius: 8px !important;
			}
			
			/* Réduire le padding des containers sur mobile */
			.entry-content, 
			.bodyclass, 
			.container {
				padding-left: 10px !important;
				padding-right: 10px !important;
			}
		}

		@media (max-width: 480px) {
			.im {
				width: calc(100% - 10px) !important;
				height: 120px !important;
				margin: 10px auto 15px auto !important;
			}
			
			/* Padding minimal sur très petits écrans */
			.entry-content, 
			.bodyclass, 
			.container {
				padding-left: 5px !important;
				padding-right: 5px !important;
			}
		}

		/* ===== RESPONSIVE SUPPLÉMENTAIRE ===== */
		/* Images et médias responsifs */
		img, video, iframe {
			max-width: 100% !important;
			height: auto !important;
		}

		/* Colonnes responsives */
		.wp-block-columns, 
		.wp-block-column {
			max-width: 100% !important;
			overflow-x: hidden !important;
		}

		/* Tableaux responsifs */
		table {
			width: 100% !important;
			overflow-x: auto !important;
			display: block !important;
		}

		/* Texts et paragraphes */
		p, h1, h2, h3, h4, h5, h6 {
			word-wrap: break-word !important;
			overflow-wrap: break-word !important;
			max-width: 100% !important;
		}

		/* Containers de sections */
		.sections-container,
		.section {
			max-width: 100% !important;
			overflow-x: hidden !important;
		}

		@media (max-width: 768px) {
			.sections-container {
				flex-direction: column !important;
			}
			
			.section {
				flex: none !important;
				width: 100% !important;
				margin-bottom: 20px !important;
			}
			
			/* Force les colonnes à s'empiler sur mobile */
			.wp-block-columns {
				flex-direction: column !important;
			}
			
			.wp-block-column {
				flex: none !important;
				width: 100% !important;
				margin-bottom: 15px !important;
			}
		}

		/* Ajuster les z-index des filtres pour qu'ils passent au-dessus de la nav mais sous le burger */
		.mobile-filter-toggle {
			z-index: 900 !important;
		}
		
		.mobile-filter-overlay {
			z-index: 15000 !important;
		}
		
		.mobile-filter-panel {
			z-index: 15001 !important;
		}
			
			/* Animations du menu mobile */
			@keyframes slideInFromRight {
				0% {
					transform: translateX(100%);
					opacity: 0;
				}
				100% {
					transform: translateX(0);
					opacity: 1;
				}
			}
			
			@keyframes slideOutToRight {
				0% {
					transform: translateX(0);
					opacity: 1;
				}
				100% {
					transform: translateX(100%);
					opacity: 0;
				}
			}
			.menu-menu-2022-container {
				flex: 1 !important;
				display: flex !important;
				flex-direction: column !important;
				min-height: 0 !important;
				overflow-y: auto !important;
				overflow-x: hidden !important;
				padding-bottom: 250px !important; /* Plus d'espace pour les boutons fixes */
				max-height: calc(100vh - 70px) !important; /* Limite la hauteur pour forcer le scroll */
				overflow-y: auto !important; /* Permettre le scroll vertical */
			}
			.menu {
				flex: 0 0 auto !important;
				display: flex !important;
				flex-direction: column !important;
				align-items: stretch !important;
				min-height: 0 !important;
				overflow: visible !important;
				gap: 0 !important;
				padding: 0 !important;
				margin: 0 !important;
			}
			.menu > li {
				width: 100% !important;
				border-bottom: 1px solid #e2e8f0;
				transition: all 0.3s ease;
			}
			.menu > li:last-child {
				border-bottom: none;
			}
			.menu > li > a, .menu > li > span {
				display: flex !important;
				align-items: center !important;
				justify-content: space-between !important;
				padding: 16px 24px !important;
				font-size: 1.05rem !important;
				font-weight: 600 !important;
				color: #0b3f89 !important;
				text-decoration: none !important;
				background: transparent !important;
				border-radius: 0 !important;
				transition: all 0.3s ease !important;
				min-height: 56px !important;
			}

			/* OVERRIDE ULTRA-SPÉCIFIQUE pour la couleur des textes de menu */
			.header--active .menu > li > a,
			.header--active .menu > li > span,
			.header.header--active .menu > li > a,
			.header.header--active .menu > li > span,
			.header--active #menu .menu > li > a,
			.header--active #menu .menu > li > span,
			.header.header--active #menu .menu > li > a,
			.header.header--active #menu .menu > li > span {
				color: #0b3f89 !important;
				background: transparent !important;
			}

			/* Override pour combattre app.css et autres styles externes */
			@media (max-width: 768px) {
				.header--active #menu a:not(.header__cta),
				.header--active #menu span:not(.header__cta),
				.header.header--active #menu a:not(.header__cta),
				.header.header--active #menu span:not(.header__cta),
				#menu.header--active a:not(.header__cta),
				#menu.header--active span:not(.header__cta) {
					color: #0b3f89 !important;
				}
			}
			.menu > li:hover {
				background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
			}
			.menu > li > a:hover, .menu > li > span:hover {
				color: #004080 !important;
				background: transparent !important;
			}
			/* CTA cachés par défaut */
			.menu-mobile-ctas {
				display: none !important;
			}
			
			/* CTA visibles seulement quand le menu est actif */
			.header--active .menu-mobile-ctas {
				display: flex !important;
				flex-direction: column !important;
				gap: 12px !important;
				align-items: stretch !important;
				width: 100% !important;
				border-top: 1px solid #e2e8f0;
				background: #ffffff !important;
				position: fixed !important;
				bottom: 0 !important;
				left: 0 !important;
				right: 0 !important;
				z-index: 100001 !important;
				box-sizing: border-box !important;
				box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1) !important;
				padding: 20px 16px !important;
				margin: 0 !important;
			}
			.menu-mobile-ctas .header__cta {
				width: 100% !important;
				margin: 0 !important;
				text-align: center !important;
				font-size: 0.95rem !important;
				font-weight: 600 !important;
				padding: 12px 16px !important;
				border-radius: 8px !important;
				text-decoration: none !important;
				transition: all 0.3s ease !important;
				box-shadow: 0 2px 8px rgba(11, 63, 137, 0.15) !important;
				color: #ffffff !important;
			}
			.menu-mobile-ctas .header__cta__doc {
				background: linear-gradient(135deg, #d71a22 0%, #b5161c 100%) !important;
				color: #fff !important;
				border: 2px solid #d71a22 !important;
			}
			.menu-mobile-ctas .header__cta__doc:hover {
				background: linear-gradient(135deg, #b5161c 0%, #9a1419 100%) !important;
				transform: translateY(-2px) !important;
				box-shadow: 0 6px 20px rgba(215, 26, 34, 0.4) !important;
			}
			.menu-mobile-ctas .header__cta__INFPFlearning {
				background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 100%) !important;
				color: #fff !important;
				border: 2px solid #0b3f89 !important;
			}
			.menu-mobile-ctas .header__cta__INFPFlearning:hover {
				background: linear-gradient(135deg, #004080 0%, #0056b3 100%) !important;
				transform: translateY(-2px) !important;
				box-shadow: 0 6px 20px rgba(11, 63, 137, 0.4) !important;
			}
			
			/* Styles pour les informations utilisateur mobile */
			.mobile-user-info {
				background: rgba(11, 63, 137, 0.1) !important;
				border: 2px solid #0b3f89 !important;
				border-radius: 8px !important;
				padding: 12px 16px !important;
				text-align: center !important;
				width: 100% !important;
				margin: 0 !important;
			}
			
			.mobile-user-welcome {
				color: #0b3f89 !important;
				font-weight: 600 !important;
				font-size: 0.95rem !important;
			}
			
			.menu-mobile-ctas .header__cta__logout {
				background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
				color: #fff !important;
				border: 2px solid #dc2626 !important;
			}
			
			.menu-mobile-ctas .header__cta__logout:hover {
				background: linear-gradient(135deg, #b91c1c 0%, #991b1b 100%) !important;
				transform: translateY(-2px) !important;
				box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4) !important;
			}
		}



		/* === MENU MOBILE : FLÈCHES AMÉLIORÉES POUR SOUS-MENUS === */
		@media (max-width: 768px) {
			.menu-item-has-children > a::after,
			.menu-item-has-children > span::after,
			.menu-formations-dropdown > a::after {
				content: '▼';
				font-size: 1rem;
				color: #6b7280;
				margin-left: auto;
				transition: all 0.3s ease;
				transform: rotate(0deg);
				font-weight: bold;
			}
			.menu-item-has-children.clicked > a::after,
			.menu-item-has-children.clicked > span::after,
			.menu-formations-dropdown.clicked > a::after {
				transform: rotate(180deg);
				color: #0b3f89;
			}
			.menu-item-has-children:hover > a::after,
			.menu-item-has-children:hover > span::after,
			.menu-formations-dropdown:hover > a::after {
				color: #0b3f89;
			}
		}

		/* ===== MASQUER LE BOUTON RETOUR VERS LE HAUT DANS LE MENU BURGER ===== */
		@media (max-width: 768px) {
			/* Masquer le bouton scroll-to-top quand le menu burger est ouvert */
			.header--active ~ #btnScrollTop,
			.header--active + main #btnScrollTop,
			body.overflow #btnScrollTop {
				display: none !important;
				opacity: 0 !important;
				visibility: hidden !important;
				pointer-events: none !important;
			}
			
			/* ===== DÉSACTIVER LES HOVER DESKTOP QUI EMPÊCHENT LE REPLIEMENT ===== */
			/* Désactiver le hover pour L'École sur mobile */
			.header #menu .menu-item:nth-child(1):hover .sub-menu {
				display: none !important;
			}
			
			/* Désactiver le hover pour Métiers sur mobile */
			.header #menu .menu-item:nth-child(3):hover .sub-menu {
				display: none !important;
			}
			
			/* Forcer le contrôle JavaScript uniquement */
			.header #menu .menu-item:nth-child(1) .sub-menu.sub-menu--active,
			.header #menu .menu-item:nth-child(3) .sub-menu.sub-menu--active {
				display: block !important;
			}
		}

		/* ===== FORCE TOTALE SOUS-MENUS MOBILE ===== */
		@media (max-width: 768px) {
			/* RESET COMPLET DE TOUS LES SOUS-MENUS EXISTANTS */
			.header #menu .menu-item:nth-child(1) .sub-menu,
			.header #menu .menu-item:nth-child(2) .sub-menu,
			.header #menu .menu-item:nth-child(3) .sub-menu,
			.header #menu .sub-menu,
			.header #menu .menu-item-has-children .sub-menu {
				position: static !important;
				left: 0 !important;
				right: 0 !important;
				top: auto !important;
				width: 100% !important;
				min-width: 100% !important;
				max-width: 100% !important;
				height: auto !important;
				min-height: auto !important;
				max-height: none !important; /* Hauteur adaptative des sous-menus */
				box-sizing: border-box !important;
				z-index: 1 !important;
				background: #f0f4f8 !important;
				display: none !important;
				padding: 8px 0 !important;
				margin: 0 !important;
				border-radius: 0 !important;
				border: none !important;
				box-shadow: inset 0 1px 3px rgba(0,0,0,0.1) !important;
				opacity: 1 !important;
				visibility: visible !important;
				transform: none !important;
				overflow-y: auto !important; /* Permettre le scroll vertical */
				overflow-x: hidden !important;
				flex-direction: column !important;
				flex-wrap: nowrap !important;
				column-count: 1 !important;
				columns: 1 !important;
				column-gap: 0 !important;
				float: none !important;
			}
			
			/* FORCE AFFICHAGE QUAND ACTIF */
			.header #menu .menu-item:nth-child(1) .sub-menu.sub-menu--active,
			.header #menu .menu-item:nth-child(2) .sub-menu.sub-menu--active,
			.header #menu .menu-item:nth-child(3) .sub-menu.sub-menu--active,
			.header #menu .sub-menu.sub-menu--active,
			.header #menu .menu-item-has-children .sub-menu.sub-menu--active {
				display: block !important;
				visibility: visible !important;
				opacity: 1 !important;
			}
			
			/* RESET COMPLET DES ÉLÉMENTS LI DE SOUS-MENU */
			.header #menu .menu-item:nth-child(1) .sub-menu li,
			.header #menu .menu-item:nth-child(2) .sub-menu li,
			.header #menu .menu-item:nth-child(3) .sub-menu li,
			.header #menu .sub-menu li {
				width: 100% !important;
				box-sizing: border-box !important;
				margin: 0 !important;
				padding: 0 !important;
				border-bottom: 1px solid #e2e8f0 !important;
				float: none !important;
				position: static !important;
				left: auto !important;
				right: auto !important;
				top: auto !important;
				display: block !important;
				opacity: 1 !important;
				visibility: visible !important;
				transform: none !important;
				column-break-inside: avoid !important;
				page-break-inside: avoid !important;
				break-inside: avoid !important;
			}
			
			.header #menu .sub-menu li:last-child {
				border-bottom: none !important;
			}
			
			/* RESET COMPLET DES LIENS DE SOUS-MENU */
			.header #menu .menu-item:nth-child(1) .sub-menu li a,
			.header #menu .menu-item:nth-child(2) .sub-menu li a,
			.header #menu .menu-item:nth-child(3) .sub-menu li a,
			.header #menu .sub-menu li a {
				display: block !important;
				width: 100% !important;
				box-sizing: border-box !important;
				color: #374151 !important;
				background: transparent !important;
				padding: 14px 16px 14px 40px !important;
				font-size: 0.95rem !important;
				font-weight: 500 !important;
				text-align: left !important;
				text-decoration: none !important;
				transition: all 0.3s ease !important;
				border-left: 3px solid transparent !important;
				min-height: 48px !important;
				float: none !important;
				position: static !important;
				left: auto !important;
				right: auto !important;
				top: auto !important;
				opacity: 1 !important;
				visibility: visible !important;
				transform: none !important;
				border-radius: 0 !important;
				border-top: none !important;
				border-right: none !important;
				border-bottom: none !important;
				margin: 0 !important;
				line-height: normal !important;
				white-space: normal !important;
				overflow: visible !important;
				text-overflow: clip !important;
				word-wrap: normal !important;
				overflow-wrap: normal !important;
				hyphens: none !important;
			}
			
			.header #menu .sub-menu li a:hover {
				background: #ffffff !important;
				color: #0b3f89 !important;
				border-left-color: #0b3f89 !important;
				transform: translateX(3px) !important;
			}
			
			/* CONTRAINTES GLOBALES ANTI-DÉBORDEMENT */
			html, body {
				overflow-x: hidden !important;
				max-width: 100vw !important;
			}
			#menu {
				overflow-x: hidden !important;
				max-width: 100vw !important;
			}
			.header, .header * {
				max-width: 100vw !important;
				box-sizing: border-box !important;
			}

		}





		</style>

		<meta
		content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
		<!-- Favicon et icônes -->
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="icon" type="image/png"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="57x57"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="60x60"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="72x72"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="76x76"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="114x114"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="120x120"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="144x144"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="152x152"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="apple-touch-icon" sizes="180x180"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="icon" sizes="192x192" type="image/png"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="icon" sizes="32x32" type="image/png"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="icon" sizes="96x96" type="image/png"/>
		<link href="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" rel="icon" sizes="16x16" type="image/png"/>
		<meta content="#ffffff" name="msapplication-TileColor"/>
		<meta content="{{ asset('img/Logo_infpf_bleu_site_onglet.png') }}?v=20250922" name="msapplication-TileImage"/>
		<meta content="#ffffff" name="theme-color"/>
		<!-- Preload des JS -->
		{# <link as="script" href="/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" rel="preload"/>
																								<link as="script" href="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" rel="preload"/> #}
		<meta
		content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" name="robots"/> <!-- This site is optimized with the Yoast SEO plugin v21.6 - https://yoast.com/wordpress/plugins/seo/ -->
		<title>Formation à distance avec l'Institut national de la formation professionnelle française</title>
		<meta content="l'infpf est le spécialiste de la formation à distance dans la petite enfance, la beauté, la cuisine, la Finance, le social." name="description"/>
		<meta content="fr_FR" property="og:locale"/>
		<meta content="website" property="og:type"/>
		<meta content="Formation à distance avec l'Institut national de la formation professionnelle française" property="og:title"/>
		<meta content="l'infpf est le spécialiste de la formation à distance dans la petite enfance, la beauté, la cuisine, la Finance, le social." property="og:description"/>
		<meta content="Institut national de la formation professionnelle française" property="og:site_name"/>
	</head>
</html>
<header class="header" style="  position: fixed;
  left: 0;
  width: 100%;
  top: 0;
  color: #fff;
  z-index: 40;
  padding-top: 0px;">
<div class="header__container">
		<a href="/" title="Accueil - Institut national de la formation professionnelle française">
			<img class="logo-infpf" alt="Logo formation" data-skip-lazy="" height="22" src="{{ asset('img/CROPPED_LOGO__INFPF_2.png') }}" width="22" color="none"/>
		</a>
	<nav id="menu">
		<button class="menu-mobile-close" style="display:none">×</button>
		<div class="menu-menu-2022-container">
			<ul class="menu" id="menu-menu-2022">
				<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-442796" id="menu-item-442796">
					<a href="{{ path('app_ecole_index') }}">L'École</a>
					<ul class="sub-menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442797" id="menu-item-442797">
							<a href="{{ path('redirectToFormationADistanceEtEnLigne') }}">Nos formations à
																																																																																																                    distance</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442798" id="menu-item-442798">
							<a href="{{ path('redirectToPourquoiChoisirLeInfpf') }}">Pourquoi choisir l'INFPF ?</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442799" id="menu-item-442799">
							<a href="{{ path('redirectToNotreMethodeApprentissage') }}">Notre méthode
																																																																																																                    d'apprentissage</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442800" id="menu-item-442800">
							<a href="{{ path('redirectToNosCoursParCorrespondance') }}">Nos cours par
																																																																																																                    correspondance</a>
						</li>
						<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-461417" id="menu-item-461417">
							<a href="{{ path('redirectToCoachPersonnel') }}">Le
																																																																																																                    coaching : un suivi personnel</a>
						</li>
						<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-461418" id="menu-item-461418">
							<a href="{{ path('redirectToNotreEquipePedagogique') }}">Notre
																																																																																																                    équipe pédagogique</a>
						</li>
						<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-461420" id="menu-item-461420">
							<a href="{{ path('redirectToCertificationQaliopi2') }}">L'INFPF certifié Qualiopi</a>
						</li>
						{# <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-461421" id="menu-item-461421">
																			<a href="{{ path('redirectToINFPFReferenceDatadock') }}">L'INFPF référencé sur DataDock</a>
																		</li> #}
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442805" id="menu-item-442805">
							<a href="{{ path('redirectToFinancerMaFormation') }}">Financements et prises
																																																																																																                    en charge</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442806" id="menu-item-442806">
							<a href="{{ path('redirectToFormationsEligiblesCPF') }}">Formations CPF</a>
						</li>
						{# <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-461424" id="menu-item-461424">
																			<a href="{{ path('redirectToParrainageEleve') }}">Parrainage
																																																																																												                    élève</a>
																		</li> #}
					</ul>
				</li>
				<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-formations-dropdown" id="menu-item-442808">
					<a href="{{ path('app_home') }}">Formations</a>
					<div class="formations-mega-menu">
						{# IA en premier car "NOUVEAU" #}
						{% set iaCategory = null %}
						{% set otherCategories = [] %}
						{% for category in dataProvider.getCategories() %}
							{% if category.name|lower == 'ia' %}
								{% set iaCategory = category %}
							{% else %}
								{% set otherCategories = otherCategories|merge([category]) %}
							{% endif %}
						{% endfor %}
						
						{# Afficher IA en premier #}
						{% if iaCategory %}
							<div class="formation-category-column ia-category-menu">
								<h3 class="category-header">
									<a href="{{ path('app_home', {'category_id': iaCategory.id}) }}">
										<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
											<path d="M12 2L2 7l10 5 10-5-10-5z"/>
											<path d="M2 17l10 5 10-5"/>
											<path d="M2 12l10 5 10-5"/>
										</svg>
										{{ iaCategory.name }}
									</a>
									<span class="nouveau-badge">NOUVEAU</span>
								</h3>
							</div>
										{% endif %}
						
						{# Afficher les autres catégories #}
						{% for category in otherCategories %}
							<div class="formation-category-column">
								<h3 class="category-header">
									<a href="{{ path('app_home', {'category_id': category.id}) }}">
										{% if category.name|lower == 'finance' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<line x1="12" y1="1" x2="12" y2="23"/>
												<path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
											</svg>
											{{ category.name }}
										{% elseif category.name|lower == 'informatique' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<polyline points="16,18 22,12 16,6"/>
												<polyline points="8,6 2,12 8,18"/>
											</svg>
											{{ category.name }}
										{% elseif category.name|lower == 'management' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
												<circle cx="9" cy="7" r="4"/>
												<path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
												<path d="M16 3.13a4 4 0 0 1 0 7.75"/>
											</svg>
											{{ category.name }}
										{% elseif category.name|lower == 'marketing' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<path d="M3 11l18-5v12L3 14v-3z"/>
												<path d="M11.6 16.8a3 3 0 1 1-5.8-1.6"/>
											</svg>
											{{ category.name }}
										{% elseif category.name|lower == 'design' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"/>
												<line x1="16" y1="8" x2="2" y2="22"/>
												<line x1="17.5" y1="15" x2="9" y2="15"/>
											</svg>
											{{ category.name }}
										{% elseif category.name|lower == 'administration' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
												<polyline points="14,2 14,8 20,8"/>
												<line x1="16" y1="13" x2="8" y2="13"/>
												<line x1="16" y1="17" x2="8" y2="17"/>
												<polyline points="10,9 9,9 8,9"/>
											</svg>
											{{ category.name }}
										{% elseif category.name|lower == 'vente' %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
												<line x1="3" y1="6" x2="21" y2="6"/>
												<path d="M16 10a4 4 0 0 1-8 0"/>
											</svg>
											{{ category.name }}
										{% else %}
											<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
												<circle cx="12" cy="12" r="3"/>
												<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2 2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
											</svg>
											{{ category.name }}
									{% endif %}
									</a>
								</h3>
							</div>
						{% endfor %}
						<!-- Bouton "Voir toutes" en bas du menu -->
						<div class="formation-category-column all-formations-link">
							<h3 class="category-header">
								<a href="{{ path('app_home') }}">
									<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
										<path d="M3 6h18M3 12h18M3 18h18"/>
									</svg>
									Toutes les formations
								</a>
							</h3>
						</div>
					</div>
				</li>

				{# <ul>
																																																<li class="header-menu-asa menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-442812" id="menu-item-442812">
																																																
																																																{% for category in categories %}<a href="./formations/metiers-animaliers/finance.html">{{ category.name }}</a>
																																																           <ul class="sub-menu">
																																																            {% for formation in formations %}
																																																                {% if formation.category == category %}
																																																                    <li>{{ formation.nameFormation }}</li>
																																																                {% endif %}
																																																            {% endfor %}
																																																    {% endfor %}
																																																</ul> #}

				<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-442839" id="menu-item-442839">
					<a href="{{ path('app_metiers_index') }}">Métiers</a>
					<ul class="sub-menu">
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442840" id="menu-item-442840">
							<a href="{{ path('app_metiers_show', {'slug': 'commercial'}) }}">Devenir Commercial</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442841" id="menu-item-442841">
							<a href="{{ path('app_metiers_show', {'slug': 'developpeur-web'}) }}">Devenir Développeur Web</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442842" id="menu-item-442842">
							<a href="{{ path('app_metiers_show', {'slug': 'trader-finance'}) }}">Devenir Trader & Expert Financier</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442844" id="menu-item-442844">
							<a href="{{ path('app_metiers_show', {'slug': 'manager'}) }}">Devenir Manager d'Équipe</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442845" id="menu-item-442845">
							<a href="{{ path('app_metiers_show', {'slug': 'marketing-digital'}) }}">Devenir Expert Marketing Digital</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442846" id="menu-item-442846">
							<a href="{{ path('app_metiers_show', {'slug': 'assistant-administratif'}) }}">Devenir Assistant Administratif</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442847" id="menu-item-442847">
							<a href="{{ path('app_metiers_show', {'slug': 'graphiste'}) }}">Devenir Graphiste & Designer</a>
						</li>
						<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442843" id="menu-item-442843">
							<a href="{{ path('app_metiers_index') }}">Voir tous les métiers</a>
						</li>
					</ul>
				</li>
				<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442851" id="menu-item-442851">
					<a href="{{ path('app_blog_index')}}">Blog</a>
					{% if is_granted('ROLE_ADMIN') %}
					<ul class="sub-menu">
						<li><a href="{{ path('app_blog_admin') }}">📊 Gestion des articles</a></li>
						<li><a href="{{ path('app_blog_new') }}">➕ Créer un article</a></li>
					</ul>
					{% endif %}
				</li>
				<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-442851" id="menu-item-442851">
					<a href="{{ path('app_contact')}}">Contact</a>
				</li>

		</ul>
	</div>
	<div class="menu-mobile-ctas" style="display:none">
		<a class="header__cta header__cta__doc btn-documentation" href="#">Demande de documentation</a>
		{% if app.user %}
			<div class="mobile-user-info">
				<span class="mobile-user-welcome">
					Bonjour {% if app.user.username %}{{ app.user.username }}{% else %}{{ app.user.email }}{% endif %}
				</span>
			</div>
			<a class="header__cta header__cta__logout" href="{{ path('app_logout') }}">Déconnexion</a>
		{% else %}
			<a class="header__cta header__cta__INFPFlearning" href="{{ path('app_login') }}">Connexion</a>
		{% endif %}
		<a class="header__cta header__cta__INFPFlearning" href="https://xeilos.monparcours.online">INFPF learning</a>
	</div>
</nav>
	{# Boutons d'action dans le header #}
	<div class="header-actions">
		{% if app.user %}
		<div class="user-info">
			<div class="user-welcome">
				<div class="welcome-content">
					<span class="welcome-greeting">Bonjour</span>
					<span class="welcome-username">
						{% if app.user.username %}
							{{ app.user.username }}
						{% else %}
							{{ app.user.email }}
						{% endif %}
					</span>
				</div>
			</div>
			<a class="header__cta header__cta__logout" href="{{ path('app_logout') }}">
				<span>Déconnexion</span>
			</a>
		</div>
		{# <a href="{{ path('app_user_show', {'id': app.user.id}) }}">Profil</a> #}
		{% else %}
		<div class="header-cta-container">
			<a class="header__cta header__cta__INFPFlearning" href="{{ path('app_login') }}">Connexion</a>
			<a class="header__cta header__cta__INFPFlearning" href="https://xeilos.monparcours.online">INFPF learning</a>
		</div>
		{% endif %}
		{% if is_granted("ROLE_ADMIN") %}
		{# <a href="{{ path('app_admin') }}">Admin</a> #}
		{% endif %}
	</div>

	{# Menu burger mobile #}
	<div class="header__menu-burger icon-fill gtm-cta-burger">
		<span class="header__menu-burger__trait"></span>
		<span class="header__menu-burger__trait"></span>
		<span class="header__menu-burger__trait"></span>
	</div>
</div></header>

{# Déplacement de la modal ici, juste avant </body> #}
{% include 'components/modal.html.twig' %}

<main class="site-main" id="main">
{% block body %}{% endblock %}
</main>

<img id="btnScrollTop" src="{{ asset('img/btn_fleche0.png') }}" alt="Retour en haut" class="bouton-retour-haut">
</body>
</html>
<script src="{{ asset('js/popup.js') }}"></script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  // MENU BURGER MOBILE AMÉLIORÉ
  var burger = document.querySelector('.header__menu-burger');
  var header = document.querySelector('.header');
  var menu = document.getElementById('menu');
  var closeBtn = document.querySelector('.menu-mobile-close');
  var ctas = document.querySelector('.menu-mobile-ctas');

  // Fonction pour ouvrir le menu avec animation
  function openMobileMenu() {
    header.classList.add('header--active');
    menu.classList.add('header--active');
    // Permettre le scroll dans le menu mobile
    document.body.style.overflow = 'auto';
    document.body.classList.add('overflow');
    document.body.classList.add('menu-mobile-open');
    
    // Animation eschelonnée des éléments du menu
    setTimeout(() => {
      const menuItems = menu.querySelectorAll('.menu > li');
      menuItems.forEach((item, index) => {
        item.style.opacity = '0';
        item.style.transform = 'translateX(20px)';
        setTimeout(() => {
          item.style.transition = 'all 0.3s ease';
          item.style.opacity = '1';
          item.style.transform = 'translateX(0)';
        }, index * 80);
      });
    }, 50);
  }

  // Fonction pour fermer le menu avec animation
  function closeMobileMenu() {
    // Fermer tous les sous-menus ouverts (y compris le mega-menu)
    document.querySelectorAll('.sub-menu--active, .formations-mega-menu.sub-menu--active').forEach(submenu => {
      submenu.classList.remove('sub-menu--active');
      if (submenu.parentElement) {
        submenu.parentElement.classList.remove('clicked');
      }
    });
    
    header.classList.remove('header--active');
    menu.classList.remove('header--active');
    burger.classList.remove('header__menu-burger--active');
    
    // Animation de fermeture
    menu.style.animation = 'slideOutToRight 0.3s ease-in forwards';
    
    setTimeout(() => {
        menu.style.animation = '';
        document.body.style.overflow = '';
        document.body.classList.remove('overflow');
        document.body.classList.remove('menu-mobile-open');
    }, 300);
  }

  // Gestion du burger
  if (burger) {
    burger.addEventListener('click', function () {
      if (header.classList.contains('header--active')) {
        closeMobileMenu();
      } else {
        openMobileMenu();
      }
    });
  }

  // Gestion du bouton de fermeture
  if (closeBtn) {
    closeBtn.addEventListener('click', function () {
      closeMobileMenu();
    });
  }

  // Fermeture en glissant depuis le bord
  let startX = 0;
  let startY = 0;
  
  if (menu) {
    menu.addEventListener('touchstart', function(e) {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    });
    
    menu.addEventListener('touchend', function(e) {
      const endX = e.changedTouches[0].clientX;
      const endY = e.changedTouches[0].clientY;
      const diffX = endX - startX;
      const diffY = Math.abs(endY - startY);
      
      // Swipe vers la droite pour fermer (au moins 100px horizontalement, max 50px verticalement)
      if (diffX > 100 && diffY < 50 && header.classList.contains('header--active')) {
        closeMobileMenu();
      }
    });
  }
});
</script>


<script>
  // Gestion du scroll header
  let lastKnownScrollPosition = 0,
      ticking = !1;
  var header = document.querySelector(".header");

  function doSomething(e) {
    lastKnownScrollPosition !== 0
      ? header.classList.add("header--scrolling")
      : header.classList.remove("header--scrolling");
  }

  document.addEventListener("scroll", function () {
    lastKnownScrollPosition = window.scrollY;
    if (!ticking) {
      window.requestAnimationFrame(function () {
        doSomething(lastKnownScrollPosition);
        ticking = false;
      });
      ticking = true;
    }
  });



  // Scroll top button
  document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById("btnScrollTop");

    if (!btn) return;

    window.addEventListener("scroll", function () {
      btn.style.display = window.scrollY > 300 ? "block" : "none";
    });

    btn.addEventListener("click", function () {
      window.scrollTo({
        top: 0,
        behavior: "smooth"
      });
    });
  });

  // Redirection par catégorie
  document.querySelectorAll('.category-link').forEach(function (link) {
    link.addEventListener('click', function (e) {
      e.preventDefault();
      const categoryId = this.getAttribute('href').split('category_id=')[1];
      window.location.href = `{{ path('app_home') }}?category_id=${categoryId}`;
    });
  });

  // ===== SYSTÈME CALENDLY CENTRALISÉ ET OPTIMISÉ =====
  window.CalendlyManager = {
    config: {
      defaultUrl: 'https://calendly.com/contact-infpf?locale=fr',
      loadTimeout: 10000,
      retryAttempts: 3
    },

    // État du système
    isLoaded: false,
    isLoading: false,
    loadPromise: null,
    buttons: new Set(),

    // Chargement optimisé de Calendly
    async loadCalendly() {
      if (this.isLoaded) return Promise.resolve();
      if (this.loadPromise) return this.loadPromise;

      this.isLoading = true;
      this.loadPromise = new Promise((resolve, reject) => {
        // Vérifier si déjà chargé
        if (typeof window.Calendly !== 'undefined') {
          this.isLoaded = true;
          this.isLoading = false;
          resolve();
          return;
        }

        // Timeout de sécurité
        const timeout = setTimeout(() => {
          this.isLoading = false;
          reject(new Error('Timeout lors du chargement de Calendly'));
        }, this.config.loadTimeout);

        // Charger le script si pas déjà présent
        let script = document.querySelector('script[src*="calendly.com"]');
        if (!script) {
          script = document.createElement('script');
          script.src = 'https://assets.calendly.com/assets/external/widget.js';
          script.async = true;
          document.head.appendChild(script);
        }

        // Attendre le chargement
        const checkLoaded = () => {
          if (typeof window.Calendly !== 'undefined') {
            clearTimeout(timeout);
            this.isLoaded = true;
            this.isLoading = false;
            resolve();
          } else {
            setTimeout(checkLoaded, 100);
          }
        };

        script.onload = checkLoaded;
        script.onerror = () => {
          clearTimeout(timeout);
          this.isLoading = false;
          reject(new Error('Erreur lors du chargement de Calendly'));
        };

        // Si le script est déjà chargé
        if (script.readyState === 'complete' || script.readyState === 'loaded') {
          checkLoaded();
        }
      });

      return this.loadPromise;
    },

    // Ouverture du popup avec gestion d'erreurs
    async openPopup(url = null, button = null) {
      const targetUrl = url || this.config.defaultUrl;
      
      // Animation de chargement
      if (button) {
        button.classList.add('loading');
        button.setAttribute('aria-busy', 'true');
      }

      try {
        await this.loadCalendly();
        
        if (typeof window.Calendly !== 'undefined' && window.Calendly.initPopupWidget) {
          window.Calendly.initPopupWidget({ url: targetUrl });
          
          // Tracking (optionnel)
          if (typeof gtag !== 'undefined') {
            gtag('event', 'calendly_popup_opened', {
              event_category: 'engagement',
              event_label: targetUrl
            });
          }
        } else {
          throw new Error('Calendly non disponible');
        }
      } catch (error) {
        console.error('Erreur Calendly:', error);
        
        // Fallback : redirection directe
        const fallbackUrl = targetUrl.replace('?locale=fr', '') + (targetUrl.includes('?') ? '&' : '?') + 'embed_domain=' + encodeURIComponent(window.location.hostname);
        window.open(fallbackUrl, '_blank', 'width=800,height=600');
        
        // Notification utilisateur (optionnel)
        this.showNotification('Une nouvelle fenêtre s\'est ouverte pour la prise de rendez-vous.');
      } finally {
        // Retirer l'animation de chargement
        if (button) {
          button.classList.remove('loading');
          button.setAttribute('aria-busy', 'false');
        }
      }
    },

    // Enregistrement des boutons
    registerButton(button) {
      if (this.buttons.has(button)) return;
      
      this.buttons.add(button);
      
      // Ajouter les attributs d'accessibilité
      button.setAttribute('role', 'button');
      button.setAttribute('aria-label', button.textContent + ' - Ouvre une nouvelle fenêtre');
      button.setAttribute('aria-busy', 'false');
      
      button.addEventListener('click', async (e) => {
        e.preventDefault();
        e.stopPropagation();
        
        const url = button.getAttribute('data-calendly-url') || button.dataset.calendlyUrl;
        await this.openPopup(url, button);
      });
    },

    // Auto-découverte des boutons
    discoverButtons() {
      const selectors = [
        '.calendly-btn',
        '[data-calendly-url]',
        '.btn-calendly-contact',
        '.btn-calendly-footer', 
        '.btn-calendly-detail',
        '.calendly-trigger',
        '#cta-rdv'
      ];
      
      selectors.forEach(selector => {
        document.querySelectorAll(selector).forEach(button => {
          this.registerButton(button);
        });
      });
    },

    // Notification simple
    showNotification(message) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: #0b3f89;
        color: white;
        padding: 12px 24px;
        border-radius: 6px;
        z-index: 10000;
        font-family: Arial, sans-serif;
        font-size: 14px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);

      `;
      notification.textContent = message;
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    },

    // Initialisation
    init() {
      // Précharger Calendly de manière asynchrone après le DOM
      requestIdleCallback(() => {
        this.loadCalendly().catch(console.warn);
      });
      
      // Découverte initiale
      this.discoverButtons();
      
      // Observer les nouveaux éléments (pour le contenu dynamique)
      if (window.MutationObserver) {
        const observer = new MutationObserver((mutations) => {
          mutations.forEach(mutation => {
            mutation.addedNodes.forEach(node => {
              if (node.nodeType === 1) { // Element node
                // Vérifier si le nœud lui-même est un bouton Calendly
                if (node.matches && node.matches('[data-calendly-url], .calendly-btn, .btn-calendly-contact, .btn-calendly-footer, .btn-calendly-detail, .calendly-trigger, #cta-rdv')) {
                  this.registerButton(node);
                }
                // Chercher dans les enfants
                node.querySelectorAll && node.querySelectorAll('[data-calendly-url], .calendly-btn, .btn-calendly-contact, .btn-calendly-footer, .btn-calendly-detail, .calendly-trigger, #cta-rdv').forEach(button => {
                  this.registerButton(button);
                });
              }
            });
          });
        });
        
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      }
    }
  };



  // Initialisation du système Calendly
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => CalendlyManager.init());
  } else {
    CalendlyManager.init();
  }

  // ===== FORCE MENU MÉTIERS POSITION DROITE =====
  document.addEventListener('DOMContentLoaded', function() {
    const menuMetiers = document.querySelector('#menu-item-442839 .sub-menu');
    if (menuMetiers) {
      // Force le positionnement côté droit du bouton (vers Blog)
      menuMetiers.style.left = 'auto';
      menuMetiers.style.right = '0';
      console.log('✅ Menu Métiers forcé côté droit vers Blog');
      
      // Observer les changements de style
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
            if (menuMetiers.style.right !== '0' || menuMetiers.style.left !== 'auto') {
              menuMetiers.style.left = 'auto';
              menuMetiers.style.right = '0';
              console.log('🔧 Menu Métiers repositionné côté droit');
            }
          }
        });
      });
      observer.observe(menuMetiers, { attributes: true, attributeFilter: ['style'] });
    }
  });

  // ===== GESTION MENU FORMATIONS ANTI-CONFLIT =====
  document.addEventListener('DOMContentLoaded', function() {
    const menuFormations = document.querySelector('.header #menu .menu-formations-dropdown');
    const megaMenu = document.querySelector('.header #menu .formations-mega-menu');
    const allOtherMenus = document.querySelectorAll('.header #menu .menu-item:not(.menu-formations-dropdown)');
    
    if (menuFormations && megaMenu) {
      console.log('✅ Menu Formations ANTI-CONFLIT initialisé');
      
      let hoverTimeout;
      let isMouseInside = false;
      
      // Masquer tous les autres sous-menus
      function hideAllOtherMenus() {
        allOtherMenus.forEach(menu => {
          const subMenu = menu.querySelector('.sub-menu');
          if (subMenu) {
            subMenu.style.display = 'none';
          }
        });
      }
      
      // Apparition INSTANTANÉE + Masquage autres menus
      function showMenu() {
        clearTimeout(hoverTimeout);
        hideAllOtherMenus(); // Force fermeture autres menus
        megaMenu.style.display = 'block';
        megaMenu.style.zIndex = '10000'; // Force z-index maximum
      }
      
      // Disparition INSTANTANÉE avec petit délai sécurité
      function hideMenu() {
        hoverTimeout = setTimeout(() => {
          if (!isMouseInside) {
            megaMenu.style.display = 'none';
          }
        }, 50); // Délai minimal pour éviter scintillement
      }
      
      // Events sur le menu principal + zone élargie
      menuFormations.addEventListener('mouseenter', function() {
        isMouseInside = true;
        showMenu();
      });
      
      menuFormations.addEventListener('mouseleave', function() {
        isMouseInside = false;
        hideMenu();
      });
      
      // Events sur le mega menu
      megaMenu.addEventListener('mouseenter', function() {
        isMouseInside = true;
        clearTimeout(hoverTimeout);
      });
      
      megaMenu.addEventListener('mouseleave', function() {
        isMouseInside = false;
        hideMenu();
      });
      
      // Protection contre autres menus ouverts en même temps
      allOtherMenus.forEach(menu => {
        menu.addEventListener('mouseenter', function() {
          if (megaMenu.style.display === 'block') {
            // Si menu Formations ouvert, empêcher ouverture autres menus
            const subMenu = this.querySelector('.sub-menu');
            if (subMenu) {
              subMenu.style.display = 'none';
            }
          }
        });
      });
      
    } else {
      console.error('❌ Menu Formations ANTI-CONFLIT non trouvé');
    }
  });

  // ===== SELECT NATIF FORMATIONS AVEC COULEURS CATÉGORIES =====
  document.addEventListener('DOMContentLoaded', function() {
    const formationSelect = document.getElementById('input_151_1');
    
    if (!formationSelect) return;
    
    console.log('✅ Select Formations natif initialisé');
    
    // Styles appliqués aux optgroups (couleurs de fond via CSS)
    const categoryColors = {
      'finance': '#3b82f6',
      'informatique': '#10b981', 
      'management': '#ef4444',
      'marketing': '#a855f7',
      'sante': '#f97316',
      'beaute': '#f472b6',
      'cuisine': '#facc15',
      'social': '#06b6d4',
      'petite-enfance': '#8b5cf6'
    };
    
    // Mettre les labels en uppercase pour une meilleure visibilité
    const optgroups = formationSelect.querySelectorAll('optgroup');
    optgroups.forEach(optgroup => {
      const originalLabel = optgroup.getAttribute('label');
      
      // Mettre à jour le label en uppercase seulement
      optgroup.setAttribute('label', originalLabel.toUpperCase());
    });
    
    // Gestion focus/blur avec suppression animations de fond
    formationSelect.addEventListener('focus', function() {
      this.style.zIndex = '999999';
      
      // Masquer les animations de fond pendant l'ouverture du select
      const animatedElements = document.querySelectorAll('[data-aos], .scroll-indicator, .wave-separator');
      animatedElements.forEach(el => {
        if (el) {
          el.style.visibility = 'hidden';
          el.style.opacity = '0';
        }
      });
    });
    
    formationSelect.addEventListener('blur', function() {
      this.style.zIndex = '10000';
      
      // Restaurer les animations de fond après fermeture du select
      setTimeout(() => {
        const animatedElements = document.querySelectorAll('[data-aos], .scroll-indicator, .wave-separator');
        animatedElements.forEach(el => {
          if (el) {
            el.style.visibility = 'visible';
            el.style.opacity = '1';
          }
        });
      }, 100);
    });
    
    // Améliorer la visibilité lors de l'ouverture
    formationSelect.addEventListener('click', function() {
      // S'assurer que le dropdown reste au premier plan
      setTimeout(() => {
        this.style.zIndex = '999999';
      }, 10);
    });
    
    console.log('✅ Select Formations: ' + formationSelect.querySelectorAll('option').length + ' formations disponibles avec catégories colorées');
  });
</script>





<script>
document.addEventListener('DOMContentLoaded', function () {
  // Gestion SOUS-MENUS mobile sans système de Retour !
  // SCRIPT SUPPRIMÉ - Remplacé par la version améliorée plus bas
});
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  // ===== SOUS-MENUS MOBILE SIMPLE ET FIABLE =====
  if (window.innerWidth <= 768) {
    
    // Fonction simple pour toggle un sous-menu
    function toggleSubmenu(parentLi, submenu) {
      var isOpen = submenu.classList.contains('sub-menu--active');
      
      // Fermer TOUS les sous-menus d'abord
      document.querySelectorAll('#menu .sub-menu, #menu .formations-mega-menu').forEach(function(s) {
        s.classList.remove('sub-menu--active');
        if (s.parentElement) {
          s.parentElement.classList.remove('clicked');
        }
      });
      
      // Si ce sous-menu était fermé, l'ouvrir
      if (!isOpen) {
        submenu.classList.add('sub-menu--active');
        parentLi.classList.add('clicked');
      }
    }
    
    // Gérer L'École
    var ecoleLink = document.querySelector('#menu-item-442796 > a');
    if (ecoleLink) {
      ecoleLink.addEventListener('click', function(e) {
        e.preventDefault();
        var parentLi = this.parentElement;
        var submenu = parentLi.querySelector('.sub-menu');
        if (submenu) {
          toggleSubmenu(parentLi, submenu);
        }
      });
    }
    
    // Gérer Formations (mega-menu)
    var formationsLink = document.querySelector('#menu-item-442808 > a');
    if (formationsLink) {
      formationsLink.addEventListener('click', function(e) {
        e.preventDefault();
        var parentLi = this.parentElement;
        var submenu = parentLi.querySelector('.formations-mega-menu');
        if (submenu) {
          toggleSubmenu(parentLi, submenu);
        }
      });
    }
    
    // Gérer Métiers
    var metiersLink = document.querySelector('#menu-item-442839 > a');
    if (metiersLink) {
      metiersLink.addEventListener('click', function(e) {
        e.preventDefault();
        var parentLi = this.parentElement;
        var submenu = parentLi.querySelector('.sub-menu');
        if (submenu) {
          toggleSubmenu(parentLi, submenu);
        }
      });
    }
    
    // Gérer Information
    var infoLink = document.querySelector('#menu-item-461428 > a');
    if (infoLink) {
      infoLink.addEventListener('click', function(e) {
        e.preventDefault();
        var parentLi = this.parentElement;
        var submenu = parentLi.querySelector('.sub-menu');
        if (submenu) {
          toggleSubmenu(parentLi, submenu);
        }
      });
    }
  }
});
</script>
