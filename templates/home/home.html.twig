{% extends 'base.html.twig' %}

{% block title %}Formez-vous facilement à votre futur métier
{% endblock %}

{% block stylesheets %}
	<link href="../css/fichier.css?=v16" rel="stylesheet"/>
	<link rel="stylesheet" href="{{ asset('css/footer.css') }}">
	<link rel="preconnect" href="https://assets.calendly.com">
	<link rel="stylesheet" href="https://assets.calendly.com/assets/external/widget.css">
	<!-- AOS Animation Library -->
	<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
	<style>
		/* ===== CORRECTION PADDING TOP HOME ===== */
		main.site-main {
			padding-top: 80px !important; /* Juste assez pour le header fixe */
		}
		.hero-banner {
			padding-top: 60px !important;
		}
		/* Variables CSS héritées de base.html.twig */

		/* ===== GENERAL MODERNIZATION ===== */
		body {
			overflow-x: hidden;
		}

		/* ===== HERO BANNER MODERNE COMPACT ===== */
		.hero-banner {
			position: relative;
			min-height: 65vh; /* Réduit pour laisser place au bandeau */
			max-height: 750px;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 120px 20px 40px;
			overflow: hidden;
		}

		.hero-background {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: var(--primary-gradient);
			z-index: 1;
		}

		.hero-gradient {
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: linear-gradient(135deg, 
				rgba(11, 63, 137, 0.9) 0%, 
				rgba(30, 92, 184, 0.8) 50%, 
				rgba(0, 180, 216, 0.7) 100%
			);
			z-index: 2;
		}

		.hero-background::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
			z-index: 3;
		}

		/* ===== INDICATEUR DE SCROLL SIMPLIFIÉ ===== */
		.scroll-indicator {
			position: absolute;
			bottom: 30px;
			left: 50%;
			transform: translateX(-50%);
			z-index: 5;
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 10px;
			animation: scrollBounce 2s ease-in-out infinite;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.scroll-indicator:hover {
			transform: translateX(-50%) scale(1.1);
		}

		.scroll-text {
			color: rgba(255, 255, 255, 0.9);
			font-size: 14px;
			font-weight: 500;
			text-align: center;
			line-height: 1.4;
			background: rgba(11, 63, 137, 0.2);
			backdrop-filter: blur(10px);
			padding: 8px 16px;
			border-radius: 20px;
			border: 1px solid rgba(255, 255, 255, 0.2);
		}

		.scroll-arrow-simple {
			font-size: 24px;
			color: white;
			animation: arrowBounce 1.5s ease-in-out infinite;
			text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
		}

		@keyframes scrollBounce {
			0%, 100% { 
				transform: translateX(-50%) translateY(0px); 
			}
			50% { 
				transform: translateX(-50%) translateY(-5px); 
			}
		}

		@keyframes arrowBounce {
			0%, 100% { 
				transform: translateY(0px);
			}
			50% { 
				transform: translateY(8px);
			}
		}

		/* ===== WAVE SEPARATOR ===== */
		.wave-separator {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 60px;
			z-index: 4;
			overflow: hidden;
		}

		.wave-separator svg {
			position: relative;
			display: block;
			width: calc(100% + 1.3px);
			height: 60px;
		}

		.wave-separator .shape-fill {
			fill: #f8fafc; /* Couleur de la section suivante */
		}

		/* ===== HERO RESPONSIVE COMPACT ===== */
		@media (max-width: 768px) {
			.hero-banner {
				min-height: 85vh; /* Légèrement plus haut sur mobile */
				max-height: 700px;
				padding: 100px 16px 20px;
			}

			.hero-content {
				margin: 0 auto;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.hero-card {
				padding: 24px;
				border-radius: 20px;
				width: 100%;
			}

			.hero-form-container {
				padding: 24px;
				border-radius: 16px;
			}

			.hero-icon {
				font-size: 36px;
				margin-bottom: 16px;
			}

			.form-step-indicator {
				margin-bottom: 24px;
			}

			.step-number {
				width: 36px;
				height: 36px;
				font-size: 14px;
			}

			.step-label {
				font-size: 14px;
			}

			.modern-select {
				padding: 22px 65px 22px 28px;
				font-size: 18px;
				border-radius: 22px;
				min-height: 70px;
				border-width: 4px;
				box-shadow: 
					0 12px 40px rgba(11, 63, 137, 0.4), 
					inset 0 2px 8px rgba(11, 63, 137, 0.1),
					0 0 0 2px rgba(255, 255, 255, 1);
			}

			.select-arrow {
				right: 16px;
			}

			.scroll-indicator {
				display: none; /* Masquer complètement sur mobile */
			}

			.scroll-text {
				font-size: 13px;
				padding: 6px 12px;
			}

			.scroll-arrow-simple {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 20px;
			height: 20px;
		}

		.scroll-arrow-simple svg {
			width: 100%;
			height: 100%;
			color: inherit;
			}

			.wave-separator {
				display: none; /* Masquer le séparateur en vague sur mobile */
			}
		}

		@media (max-width: 480px) {
			.hero-banner {
				min-height: 90vh;
				padding: 80px 12px 15px;
			}

			.hero-content {
				margin: 0 auto;
				display: flex;
				justify-content: center;
				align-items: center;
			}

			.hero-card {
				padding: 20px;
				width: 100%;
			}

			.hero-form-container {
				padding: 20px;
			}

			.question-subtitle {
				font-size: 16px;
				margin-bottom: 24px;
			}

			.cta-buttons {
			flex-direction: column;
			align-items: center;
				gap: 12px;
			}

			.hero-btn-secondary {
			width: 100%;
				max-width: 280px;
			}

			.cta-description {
				font-size: 16px;
			}

			.modern-select {
				padding: 20px 60px 20px 26px;
				font-size: 17px;
				border-radius: 20px;
				min-height: 64px;
				border-width: 4px;
				box-shadow: 
					0 10px 35px rgba(11, 63, 137, 0.35), 
					inset 0 2px 6px rgba(11, 63, 137, 0.1),
					0 0 0 2px rgba(255, 255, 255, 1);
			}

			.scroll-indicator {
				bottom: 15px;
			}

			.scroll-text {
				font-size: 12px;
				padding: 5px 10px;
			}

			.scroll-arrow-simple {
				font-size: 18px;
			}
		}

		/* ===== HERO SECTION FIXE ===== */
		.hero-section {
			position: relative;
			background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 50%, #00b4d8 100%);
			padding: 80px 0 60px;
			overflow: hidden;
			/* Suppression de l'effet parallax - section reste fixe */
		}

		.hero-section::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
			animation: float 20s ease-in-out infinite;
		}

		@keyframes float {
			0%, 100% { transform: translateY(0px) rotate(0deg); }
			50% { transform: translateY(-20px) rotate(1deg); }
		}

		.titlePage {
			position: relative;
			z-index: 2;
			font-size: clamp(2.5rem, 5vw, 4rem);
			text-align: center;
			color: white;
			font-weight: 700;
			margin: 0 0 40px 0;
			text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
			background: linear-gradient(45deg, #ffffff, #e3f2fd);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		/* ===== CTA MODERNE ===== */
		.cta-popup {
			position: relative;
			z-index: 2;
		display: block;
			margin: 0 auto 50px auto;
			padding: 18px 40px;
		font-size: 18px;
		font-weight: 600;
			background: rgba(255, 255, 255, 0.2);
			color: white;
			border: 2px solid rgba(255, 255, 255, 0.3);
			border-radius: 50px;
		cursor: pointer;
			transition: var(--transition);
			backdrop-filter: blur(20px);
			box-shadow: var(--shadow-light);
			overflow: hidden;
		}

		/* ===== CTA BLEU POUR LE 2ÈME BOUTON ===== */
		.cta-popup-blue {
			position: relative;
			z-index: 2;
			display: block;
			margin: 0 auto 50px auto;
			padding: 18px 40px;
			font-size: 18px;
			font-weight: 600;
			background: rgba(11, 63, 137, 0.2);
			color: #0b3f89;
			border: 2px solid rgba(11, 63, 137, 0.3);
			border-radius: 50px;
			cursor: pointer;
			transition: var(--transition);
			backdrop-filter: blur(20px);
			box-shadow: var(--shadow-light);
			overflow: hidden;
		}

		.cta-popup::before,
		.cta-popup-blue::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
			transition: left 0.5s;
		}

		.cta-popup:hover,
		.cta-popup-blue:hover {
			transform: translateY(-2px);
			box-shadow: var(--shadow-heavy);
		}

		.cta-popup:hover {
			border-color: rgba(255, 255, 255, 0.5);
		}

		.cta-popup-blue:hover {
			border-color: rgba(11, 63, 137, 0.5);
			background: rgba(11, 63, 137, 0.3);
		}

		.cta-popup:hover::before,
		.cta-popup-blue:hover::before {
			left: 100%;
		}

		/* ===== CATEGORIES SECTION MODERNE ===== */
		.categories-section {
			background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
			padding: 50px 20px;
			position: relative;
		}

		/* ===== TITRES DE SECTION ÉLÉGANTS ===== */
		.section-title {
			text-align: center;
			font-size: clamp(2.2rem, 4vw, 3.5rem);
			font-weight: 600;
			color: #0b3f89;
			margin-bottom: 20px;
			line-height: 1.3;
			position: relative;
			padding-bottom: 20px;
		}

		.section-title::after {
			content: '';
			position: absolute;
			bottom: 0;
			left: 50%;
			transform: translateX(-50%);
			width: 80px;
			height: 4px;
			background: linear-gradient(90deg, #0b3f89, #1e5cb8);
			border-radius: 2px;
		}

		.section-subtitle {
			text-align: center;
			font-size: 1.2rem;
			color: #64748b;
			margin-bottom: 60px;
			max-width: 700px;
			margin-left: auto;
			margin-right: auto;
			font-weight: 400;
			line-height: 1.6;
		}

.categories {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
			gap: 30px;
			max-width: 1400px;
			margin: 0 auto;
			padding: 20px;
}

.category {
			position: relative;
			transition: var(--transition);
}

		/* ===== CARTES GLASSMORPHISM ===== */
.category-card {
			position: relative;
			border-radius: var(--border-radius);
  overflow: hidden;
			background: rgba(255, 255, 255, 0.25);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.3);
  cursor: pointer;
			transition: var(--transition);
			box-shadow: var(--shadow-light);
}

		.category:not(.expanded) .category-card:hover {
			transform: translateY(-10px) scale(1.02);
			box-shadow: var(--shadow-heavy);
			background: rgba(255, 255, 255, 0.35);
}

.category-image {
  width: 100%;
			height: 220px;
  object-fit: cover;
			transition: var(--transition);
		}

		.category:not(.expanded) .category-card:hover .category-image {
			transform: scale(1.1);
			filter: brightness(1.1);
}

.category-title {
			background: var(--primary-gradient);
  color: white;
			padding: 20px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
			position: relative;
			overflow: hidden;
		}

		/* ===== CATÉGORIE IA EN OR ===== */
		.category.ia-category .category-title {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
			color: #1a1a1a;
			font-weight: 800;
			text-shadow: 0 2px 4px rgba(255, 215, 0, 0.3);
			position: relative;
		}

		.category.ia-category .category-title::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
			transition: left 0.3s;
		}

		.category.ia-category .category-card {
			border: 3px solid #FFD700;
			box-shadow: 0 8px 32px rgba(255, 215, 0, 0.3);
			position: relative;
		}

		.category.ia-category:not(.expanded) .category-card:hover {
			transform: translateY(-12px) scale(1.03);
			box-shadow: 
				0 20px 60px rgba(255, 215, 0, 0.4),
				0 0 30px rgba(255, 215, 0, 0.6);
			border-color: #FFA500;
		}

		.category.ia-category .category-card:hover .category-title::before {
			left: 100%;
		}

		/* ===== BADGE NOUVEAU POUR CATÉGORIE IA ===== */
		.category.ia-category .category-card::after {
			content: 'NOUVEAU';
			position: absolute;
			top: 15px;
			right: 15px;
			background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 50%, #FF6B9D 100%);
			color: white;
			font-size: 12px;
			font-weight: 900;
			padding: 8px 16px;
			border-radius: 20px;
			text-transform: uppercase;
			letter-spacing: 1px;
			box-shadow: 
				0 4px 12px rgba(255, 107, 107, 0.4),
				0 2px 6px rgba(255, 107, 107, 0.6);
			z-index: 10;
			animation: pulse-badge 2s infinite;
			border: 2px solid rgba(255, 255, 255, 0.9);
		}

		.category.ia-category:hover .category-card::after {
			transform: scale(1.1);
			box-shadow: 
				0 6px 20px rgba(255, 107, 107, 0.6),
				0 3px 10px rgba(255, 107, 107, 0.8);
		}

		@keyframes pulse-badge {
			0%, 100% { 
				transform: scale(1);
				box-shadow: 
					0 4px 12px rgba(255, 107, 107, 0.4),
					0 2px 6px rgba(255, 107, 107, 0.6);
			}
			50% { 
				transform: scale(1.05);
				box-shadow: 
					0 6px 18px rgba(255, 107, 107, 0.6),
					0 3px 10px rgba(255, 107, 107, 0.8);
			}
		}

		/* ===== AJUSTEMENT BADGE QUAND MODAL OUVERTE ===== */
		.category.ia-category.expanded .category-card::after {
			right: 70px; /* Déplace vers la gauche pour éviter la croix */
			top: 20px;
		}

		.category-title::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: rgba(255, 255, 255, 0.1);
			transition: left 0.3s;
		}

		/* ===== MASQUAGE INTELLIGENT DES AUTRES CATÉGORIES ===== */
		body.modal-open .category:not(.expanded) {
			opacity: 0.3;
			pointer-events: none;
			filter: blur(2px);
			transform: scale(0.98);
			transition: all 0.4s ease;
		}

		body.modal-open .category.expanded {
			opacity: 1;
			pointer-events: all;
			filter: none;
			transform: scale(1);
		}

		/* ===== ANIMATION RAPIDE D'APPARITION AVEC DÉGRADÉ ===== */
		.category {
			animation: fastFadeInGradient 0.6s ease-out;
		}

		@keyframes fastFadeInGradient {
			0% {
				opacity: 0;
				transform: translateY(20px);
				background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1));
			}
			60% {
				background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.3));
			}
			100% {
				opacity: 1;
				transform: translateY(0);
				background: transparent;
			}
		}

		.category:not(.expanded) .category-card:hover .category-title::before {
			left: 100%;
		}

				/* ===== SYSTÈME MODAL CENTRÉ AVEC TRANSITION FLUIDE ===== */
		.category.expanded {
			position: fixed !important;
			top: 50% !important;
			left: 50% !important;
			transform: translate(-50%, -50%) !important;
			z-index: 1000;
			width: 90vw;
			max-width: 1000px;
			max-height: 90vh;
			margin: 0 !important;
			padding: 0 !important;
			grid-column: auto !important;
			animation: smoothExpandToCenter 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
			box-shadow: 0 25px 80px rgba(11, 63, 137, 0.6);
		}

		.category.expanded .category-card {
			height: auto;
			min-height: 500px;
			display: grid;
			grid-template-columns: 400px 1fr;
			gap: 0;
			margin: 0 !important;
			overflow: hidden;
			overflow-y: auto;
			max-height: 90vh;
			box-shadow: 0 30px 100px rgba(11, 63, 137, 0.5);
			border: 3px solid rgba(11, 63, 137, 0.3);
			border-radius: 20px;
			background: rgba(255, 255, 255, 0.98);
			backdrop-filter: blur(20px);
			position: relative;
		}

		.category.expanded .category-image {
			height: 100%;
			min-height: 500px;
			border-radius: 18px 0 0 18px;
			object-fit: cover;
		}

		.category.expanded .category-title {
			grid-column: 1 / -1;
			order: -1;
			font-size: 22px;
			padding: 25px;
			position: relative;
			border-radius: 18px 18px 0 0;
		}

		/* ===== OVERLAY ARRIÈRE-PLAN RÉACTIVÉ ===== */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.6);
			backdrop-filter: blur(8px);
			z-index: 999;
			opacity: 0;
			visibility: hidden;
			transition: all 0.4s ease;
		}

		.modal-overlay.active {
			opacity: 1;
			visibility: visible;
		}

		/* ===== ANIMATION FLUIDE VERS LE CENTRE ===== */
		@keyframes smoothExpandToCenter {
			0% {
				transform: translate(-50%, -50%) scale(0.85);
				opacity: 0.8;
				box-shadow: 0 8px 25px rgba(11, 63, 137, 0.2);
			}
			60% {
				transform: translate(-50%, -50%) scale(1.05);
				opacity: 0.95;
				box-shadow: 0 20px 60px rgba(11, 63, 137, 0.4);
			}
			100% {
				transform: translate(-50%, -50%) scale(1);
				opacity: 1;
				box-shadow: 0 25px 80px rgba(11, 63, 137, 0.6);
			}
		}

		.category.closing {
			animation: smoothShrinkFromCenter 0.4s ease-in forwards;
		}

		@keyframes smoothShrinkFromCenter {
			0% {
				transform: translate(-50%, -50%) scale(1);
				opacity: 1;
				box-shadow: 0 25px 80px rgba(11, 63, 137, 0.6);
			}
			40% {
				transform: translate(-50%, -50%) scale(0.95);
				opacity: 0.8;
				box-shadow: 0 15px 40px rgba(11, 63, 137, 0.4);
			}
			100% {
				transform: translate(-50%, -50%) scale(0.8);
				opacity: 0;
				box-shadow: 0 5px 15px rgba(11, 63, 137, 0.2);
			}
		}

		/* ===== FORMATIONS DANS LA MODAL SANS SCROLL ===== */
		.formations-preview {
  display: none;
			padding: 30px;
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(15px);
			/* PAS de scroll - hauteur auto */
			overflow: visible;
			position: relative;
			z-index: 10;
		}

		.category.expanded .formations-preview {
  display: block;
}

		.formations-preview h4 {
			color: var(--primary-gradient);
			margin-bottom: 20px;
			font-size: 18px;
			font-weight: 600;
		}

		.formation-item {
			background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
			padding: 15px 18px;
  margin-bottom: 10px;
			border-radius: 12px;
  color: #0077b6;
  font-weight: 500;
  cursor: pointer;
			transition: var(--transition);
			border: 1px solid transparent;
			position: relative;
			overflow: hidden;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.formation-item::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
			transition: left 0.3s;
		}

		.formation-item:hover {
			transform: translateX(5px);
			background: linear-gradient(135deg, #b2ebf2, #80deea);
			border-color: #0077b6;
			box-shadow: 0 4px 15px rgba(0, 119, 182, 0.3);
		}

		.formation-item:hover::before {
			left: 100%;
		}

		.formation-name {
  font-size: 15px;
			line-height: 1.4;
			flex-grow: 1;
		}

		.formation-arrow {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 18px;
			height: 18px;
			color: #0b3f89;
			margin-left: 10px;
			transition: transform 0.3s ease;
		}

		.formation-arrow svg {
			width: 100%;
			height: 100%;
		}

		.formation-item:hover .formation-arrow {
			transform: translateX(5px);
		}

		/* ===== BOUTON "VOIR PLUS" ===== */
		.voir-plus-button {
			margin-top: 20px;
			padding: 12px 24px;
			background: var(--primary-gradient);
			color: white;
			border: none;
			border-radius: 25px;
			font-weight: 600;
			cursor: pointer;
			transition: var(--transition);
			text-decoration: none;
			display: inline-block;
			position: relative;
  overflow: hidden;
		}

		.voir-plus-button::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: rgba(255, 255, 255, 0.2);
			transition: left 0.3s;
		}

		.voir-plus-button:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(11, 63, 137, 0.4);
		}

		.voir-plus-button:hover::before {
			left: 100%;
		}

		/* ===== BOUTON FERMER MODAL ===== */
		.close-button {
			position: absolute;
			top: 15px;
			right: 15px;
			background: rgba(255, 255, 255, 0.95);
			border: none;
			border-radius: 50%;
			width: 40px;
			height: 40px;
			display: none;
			align-items: center;
  justify-content: center;
			cursor: pointer;
			font-size: 20px;
			color: #0b3f89;
			transition: var(--transition);
			z-index: 1001;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
			font-weight: bold;
		}

		.category.expanded .close-button {
			display: flex;
		}

		.close-button:hover {
			background: white;
			transform: scale(1.15);
			box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
		}

		/* ===== RESPONSIVE MODAL ===== */
@media (max-width: 768px) {
			.categories {
				grid-template-columns: 1fr;
				gap: 20px;
			}

			.category.expanded {
				width: 95vw !important;
				max-height: 95vh !important;
			}

			.category.expanded .category-card {
				grid-template-columns: 1fr;
				min-height: auto;
			}

			.category.expanded .category-image {
				height: 250px;
				min-height: 250px;
				border-radius: 18px 18px 0 0;
			}

			.formations-preview {
  padding: 20px;
			}

			.close-button {
				top: 10px;
				right: 10px;
				width: 35px;
				height: 35px;
				font-size: 18px;
			}
		}

.formation {
			background: linear-gradient(135deg, #e0f7fa, #b2ebf2);
			padding: 16px 20px;
			margin-bottom: 12px;
			border-radius: 12px;
  color: #0077b6;
  font-weight: 500;
  cursor: pointer;
			transition: var(--transition);
			border: 1px solid transparent;
			position: relative;
			overflow: hidden;
		}

		.formation::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
			transition: left 0.3s;
}

.formation:hover {
			transform: translateX(5px);
			background: linear-gradient(135deg, #b2ebf2, #80deea);
			border-color: #0077b6;
			box-shadow: 0 4px 15px rgba(0, 119, 182, 0.3);
		}

		.formation:hover::before {
			left: 100%;
		}

		/* ===== CPF SECTION MODERNISÉE (COULEURS BLEUES/BLANCHES) ===== */
		.cpf-section {
			background: linear-gradient(135deg, #0b3f89, #1e5cb8);
			padding: 80px 20px;
			color: white;
			position: relative;
  overflow: hidden;
		}

		.cpf-section::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
			animation: twinkle 3s ease-in-out infinite alternate;
		}

		@keyframes twinkle {
			0% { opacity: 0.3; }
			100% { opacity: 0.8; }
		}

		.wp-block-formation-financable-cpf {
			position: relative;
			z-index: 2;
			max-width: 1200px;
			margin: 0 auto;
			display: grid;
			grid-template-columns: 1fr 2fr;
			gap: 60px;
			align-items: center;
		}

		.wp-image-cpf_lady {
			width: 100%;
			height: auto;
			border-radius: var(--border-radius);
			filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.3));
			transition: var(--transition);
		}

		.wp-image-cpf_lady:hover {
			transform: scale(1.05);
			filter: drop-shadow(0 25px 50px rgba(0, 0, 0, 0.4));
}

		.cpf-buttons {
			display: flex;
			gap: 20px;
			margin-top: 30px;
			flex-wrap: wrap;
		}

		.wp-block-button__link {
			padding: 15px 30px;
			border-radius: 50px;
			font-weight: 600;
			text-decoration: none;
			transition: var(--transition);
			border: 2px solid transparent;
			position: relative;
			overflow: hidden;
		}

		.wp-block-button__link:first-child {
			background: rgba(255, 255, 255, 0.2);
			color: white;
			border-color: rgba(255, 255, 255, 0.3);
		}

		.wp-block-button__link:last-child {
			background: transparent;
			color: white;
			border-color: rgba(255, 255, 255, 0.3);
			backdrop-filter: blur(10px);
}

		.wp-block-button__link:hover {
			transform: translateY(-2px);
			box-shadow: var(--shadow-heavy);
		}

		/* ===== BLOG SECTION MODERNISÉE ===== */
		.blog-sectionactualite {
			background: linear-gradient(180deg, #f1f5f9 0%, #e2e8f0 100%);
			padding: 80px 20px;
		}

		.blog-heading {
			text-align: center;
			font-size: clamp(2rem, 4vw, 3rem);
			color: #1a202c;
			margin-bottom: 50px;
			position: relative;
		}

		.blog-heading::after {
			content: '';
			position: absolute;
			bottom: -10px;
			left: 50%;
			transform: translateX(-50%);
			width: 80px;
			height: 4px;
			background: var(--primary-gradient);
			border-radius: 2px;
}

		.blog-container {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 30px;
			max-width: 1200px;
			margin: 0 auto;
		}

		.blog-postactualite-link {
			text-decoration: none;
			color: inherit;
			display: block;
		}

		.blog-postactualite {
			background: rgba(255, 255, 255, 0.8);
			backdrop-filter: blur(15px);
			border-radius: var(--border-radius);
  overflow: hidden;
			transition: var(--transition);
			border: 1px solid rgba(255, 255, 255, 0.3);
			box-shadow: var(--shadow-light);
		}

		.blog-postactualite-link:hover .blog-postactualite {
			transform: translateY(-8px);
			box-shadow: var(--shadow-heavy);
			background: rgba(255, 255, 255, 0.95);
		}

		.card-img-top {
			width: 100%;
			height: 220px;
  object-fit: cover;
			transition: var(--transition);
}

		.blog-postactualite-link:hover .card-img-top {
			transform: scale(1.1);
		}

		.blog-post-content {
			padding: 25px;
		}

		.read-more {
			display: inline-block;
			margin-top: 15px;
			padding: 8px 20px;
			background: var(--primary-gradient);
			color: white;
			text-decoration: none;
			border-radius: 25px;
			font-weight: 500;
			transition: var(--transition);
		}

		.read-more:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 15px rgba(11, 63, 137, 0.4);
}

		/* ===== BOUTON VOIR TOUS LES ARTICLES OPTIMISÉ ===== */
		.btn-view-all-articles {
			display: inline-block;
			padding: 14px 28px;
			background: rgba(255, 255, 255, 0.15);
			color: #0b3f89;
			text-decoration: none;
			border: 2px solid #0b3f89;
			border-radius: 25px;
			font-size: 16px;
			font-weight: 600;
			transition: all 0.3s ease;
			backdrop-filter: blur(10px);
			position: relative;
			overflow: hidden;
		}

		.btn-view-all-articles::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(135deg, #0b3f89, #1e5cb8);
			transition: left 0.4s ease;
			z-index: -1;
		}

		.btn-view-all-articles:hover {
			color: white;
			border-color: #1e5cb8;
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(11, 63, 137, 0.3);
			text-decoration: none;
		}

		.btn-view-all-articles:hover::before {
			left: 0;
		}

		/* ===== CONTENEUR CTA BLOG ===== */
		.blog-cta-container {
			text-align: center;
			margin: 60px auto 0;
			padding: 30px 20px;
			max-width: 400px;
}

		/* ===== VIDEO SECTION MODERNISÉE (COULEURS COHÉRENTES AVEC LE SITE) ===== */
		.video-section {
			background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 100%);
			padding: 80px 20px;
			color: white;
			position: relative;
			overflow: hidden;
}

		.video-section::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="25" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
			animation: twinkle 4s ease-in-out infinite alternate;
}

		.wp-block-coaching-personnalise {
			max-width: 1200px;
			margin: 0 auto;
			display: grid;
			grid-template-columns: 1fr 1.5fr;
			gap: 60px;
			align-items: center;
		}

		.wp-block-videos {
			position: relative;
			padding: 56.25% 0 0 0;
			border-radius: var(--border-radius);
  overflow: hidden;
			box-shadow: var(--shadow-heavy);
		}

		.wp-block-videos video {
			position: absolute;
			top: 0;
			left: 0;
				width: 100%;
			height: 100%;
			border-radius: var(--border-radius);
			transition: var(--transition);
		}

		.wp-block-videos:hover video {
			transform: scale(1.02);
}

				/* ===== CONTACT SECTION MODERNE AVEC FOND BLANC ===== */
		.contact-section {
			background: #ffffff;
			padding: 100px 20px;
			position: relative;
			overflow: hidden;
		}

		.contact-section::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><pattern id="contactGrid" width="50" height="50" patternUnits="userSpaceOnUse"><path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(11,63,137,0.05)" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(%23contactGrid)"/></svg>');
			animation: float 15s ease-in-out infinite;
  }

		.contact-content {
			max-width: 1200px;
			margin: 0 auto;
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 80px;
			align-items: center;
			position: relative;
			z-index: 2;
		}

		.contact-info {
			color: #0b3f89;
		}

		.contact-info h2 {
			font-size: clamp(2.2rem, 4.5vw, 3.5rem);
			font-weight: 700;
			margin-bottom: 30px;
			line-height: 1.3;
			color: #0b3f89;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* Titre contact sans césure sur écrans moyens et grands */
		@media (min-width: 640px) {
			.contact-info h2 {
				white-space: normal;
				overflow: visible;
				text-overflow: initial;
			}
		}

		.contact-info p {
			font-size: 1.3rem;
			line-height: 1.6;
			margin-bottom: 40px;
			color: #64748b;
		}

		.contact-features {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 30px;
			margin-top: 50px;
		}

		.contact-feature {
			display: flex;
			align-items: center;
			gap: 15px;
				padding: 20px;
			background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
			border-radius: 15px;
			border: 1px solid #e2e8f0;
			transition: var(--transition);
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
		}

		.contact-feature:hover {
			transform: translateY(-5px);
			background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
		}

		.contact-feature-icon {
			width: 24px;
			height: 24px;
			background: #0b3f89;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 14px;
			color: white;
			font-weight: bold;
		}

		.contact-feature-text {
			color: #0b3f89;
			font-weight: 500;
		}

		.contact-card {
			background: rgba(11, 63, 137, 0.03);
			border: 2px solid #e2e8f0;
			border-radius: var(--border-radius);
			padding: 50px 40px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
			position: relative;
			overflow: hidden;
		}

		.contact-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 4px;
			background: var(--primary-gradient);
			}

		.contact-card h3 {
			color: #0b3f89;
			font-size: 1.8rem;
			font-weight: 600;
			margin-bottom: 20px;
				text-align: center;
			}

		.contact-card p {
			color: #64748b;
			text-align: center;
			margin-bottom: 30px;
			font-size: 1.1rem;
		}

		.contact-methods {
			display: grid;
			gap: 20px;
		}

		.contact-method {
			display: flex;
			align-items: center;
			gap: 15px;
			padding: 20px;
			background: #ffffff;
			border-radius: 12px;
			transition: var(--transition);
			border: 2px solid #e2e8f0;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
			text-decoration: none;
			color: inherit;
		}

		.contact-method:hover {
			background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
			border-color: #0b3f89;
			transform: translateX(5px);
			box-shadow: 0 8px 25px rgba(11, 63, 137, 0.15);
			text-decoration: none;
			color: inherit;
		}

		.contact-method-icon {
			width: 40px;
			height: 40px;
			background: var(--primary-gradient);
			border-radius: 50%;
  display: flex;
			align-items: center;
			justify-content: center;
			color: white;
			font-size: 18px;
		}

		.contact-method-content h4 {
			color: #0b3f89;
			font-weight: 600;
			margin-bottom: 5px;
		}

		.contact-method-content p {
			color: #64748b;
			font-size: 0.9rem;
			margin: 0;
		}

		/* Style spécial pour le bouton téléphone */
		.contact-method.phone-method {
			cursor: pointer;
		}

		.contact-method.phone-method .contact-method-content h4 {
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.phone-number {
			font-weight: 600;
			color: #0b3f89;
		}

		/* Badge mobile uniquement */
		.mobile-only {
			display: none;
			background: #22c55e;
			color: white;
			font-size: 11px;
			padding: 2px 6px;
			border-radius: 4px;
			font-weight: 500;
		}

		@media (max-width: 768px) {
			.mobile-only {
				display: inline-block;
			}
		}

		/* Animations pour la notification téléphone */
		@keyframes phoneNotificationAppear {
			0% {
				opacity: 0;
				transform: translate(-50%, -50%) scale(0.8);
			}
			100% {
				opacity: 1;
				transform: translate(-50%, -50%) scale(1);
			}
		}

		@keyframes phoneNotificationDisappear {
			0% {
				opacity: 1;
				transform: translate(-50%, -50%) scale(1);
			}
			100% {
				opacity: 0;
				transform: translate(-50%, -50%) scale(0.8);
			}
		}

		.btn-primary {
			background: var(--primary-gradient);
			color: white;
			padding: 18px 40px;
			border: none;
			border-radius: 50px;
			text-decoration: none;
			display: inline-block;
			transition: all 0.3s ease;
			font-weight: 600;
			font-size: 1.1rem;
			position: relative;
			overflow: hidden;
			box-shadow: 0 4px 15px rgba(11, 63, 137, 0.2);
		}

		.btn-primary::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
			transition: left 0.4s ease;
		}

		.btn-primary:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(11, 63, 137, 0.3);
			background: linear-gradient(135deg, #004080, #0056b3);
		}

		.btn-primary:hover::before {
			left: 100%;
		}

		.btn-primary:active {
			transform: translateY(0);
			transition: all 0.1s ease;
		}

		/* ===== RESPONSIVE DESIGN ===== */
@media (max-width: 768px) {
			.categories {
				grid-template-columns: 1fr;
				gap: 20px;
  }

			/* Bouton voir tous les articles responsive */
			.btn-view-all-articles {
				padding: 12px 24px;
				font-size: 15px;
				border-radius: 22px;
			}

			.blog-cta-container {
				margin: 40px auto 0;
				padding: 20px 16px;
  }

			.wp-block-formation-financable-cpf {
				grid-template-columns: 1fr;
				gap: 40px;
				text-align: center;
  }

			.wp-block-coaching-personnalise {
				grid-template-columns: 1fr;
				gap: 40px;
  }

			.cpf-buttons {
				justify-content: center;
  }

			.titlePage {
    font-size: 2.5rem;
}

			/* Contact section responsive */
			.contact-section {
				padding: 60px 20px;
			}

			.contact-content {
				grid-template-columns: 1fr;
				gap: 50px;
			}

			.contact-info h2 {
    font-size: 2.2rem;
    white-space: nowrap;
    text-align: center;
  }

  		/* Gestion spéciale pour très petits écrans */
  		@media (max-width: 400px) {
  			.contact-info h2 {
  				font-size: 1.9rem;
  				white-space: normal;
  				hyphens: none;
  				word-break: keep-all;
  			}
  }

			.contact-info p {
    font-size: 1.1rem;
  }

			.contact-features {
				grid-template-columns: 1fr;
				gap: 15px;
				margin-top: 30px;
			}

			.contact-card {
				padding: 30px 20px;
			}

			/* Optimisation mobile pour le bouton téléphone */
			.contact-method.phone-method {
				background: linear-gradient(135deg, #e8f5e8 0%, #f0f9ff 100%);
				border-color: #22c55e;
			}

			.contact-method.phone-method:hover {
				background: linear-gradient(135deg, #dcfce7 0%, #e0f2fe 100%);
				transform: scale(1.02);
			}

			.phone-number {
				font-size: 1.1rem;
				color: #0b3f89;
			}
		}

		/* ===== ANIMATIONS SCROLL ===== */
		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
  }
}

		@keyframes fadeInLeft {
			from {
				opacity: 0;
				transform: translateX(-30px);
			}
			to {
				opacity: 1;
				transform: translateX(0);
        }
    }

		@keyframes fadeInRight {
			from {
				opacity: 0;
				transform: translateX(30px);
			}
			to {
				opacity: 1;
				transform: translateX(0);
			}
		}

		/* ===== PARTICLE EFFECT ===== */
		.particles {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
			z-index: 1;
        }
        
		.particle {
			position: absolute;
			width: 4px;
			height: 4px;
			background: rgba(255, 255, 255, 0.5);
			border-radius: 50%;
			animation: float-particle 6s infinite ease-in-out;
		}

		@keyframes float-particle {
			0%, 100% {
				transform: translateY(0px) translateX(0px);
				opacity: 0;
			}
			50% {
				opacity: 1;
        }
    }

		.hero-content {
			position: relative;
			z-index: 4;
			width: 100%;
			max-width: 800px;
			margin: 0 auto;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.hero-card {
			background: rgba(255, 255, 255, 0.05);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(255, 255, 255, 0.1);
			border-radius: 24px;
			padding: 40px;
			box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
			animation: heroCardFloat 6s ease-in-out infinite;
			width: 100%;
		}

		@keyframes heroCardFloat {
			0%, 100% { transform: translateY(0px); }
			50% { transform: translateY(-10px); }
		}

		.hero-header {
			text-align: center;
			margin-bottom: 40px;
		}

		.hero-icon {
			font-size: 48px;
			margin-bottom: 20px;
			display: block;
			animation: heroIconPulse 3s ease-in-out infinite;
		}

		@keyframes heroIconPulse {
			0%, 100% { transform: scale(1); }
			50% { transform: scale(1.1); }
		}

		.hero-title {
			color: white;
			font-size: clamp(24px, 4vw, 42px);
			font-weight: 700;
			line-height: 1.2;
			margin: 0 0 16px 0;
			text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
		}

		.hero-subtitle {
			color: rgba(255, 255, 255, 0.9);
			font-size: clamp(16px, 2vw, 20px);
			line-height: 1.5;
			margin: 0;
			font-weight: 300;
		}

		.hero-form-container {
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			border-radius: 20px;
			padding: 32px;
			border: 1px solid rgba(255, 255, 255, 0.2);
		}

		.form-step-indicator {
			display: flex;
			justify-content: center;
			margin-bottom: 32px;
		}

		.step-item {
			display: flex;
			align-items: center;
			gap: 12px;
			color: rgba(255, 255, 255, 0.7);
			transition: var(--transition);
		}

		.step-item.active {
			color: white;
		}

		.step-number {
			width: 40px;
			height: 40px;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.2);
			display: flex;
			align-items: center;
			justify-content: center;
			font-weight: 600;
			font-size: 16px;
			transition: var(--transition);
		}

		.step-item.active .step-number {
			background: white;
			color: var(--primary-color, #0b3f89);
			box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
		}

		.step-label {
			font-weight: 500;
			font-size: 16px;
		}

		.form-question {
			text-align: center;
			margin-bottom: 32px;
		}

		.question-title {
			color: white;
			font-size: clamp(24px, 4vw, 32px);
			font-weight: 700;
			margin: 0 0 16px 0;
			text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
			letter-spacing: 0.3px;
		}

		.question-subtitle {
			color: rgba(255, 255, 255, 0.95);
			font-size: 18px;
			font-weight: 500;
			margin: 0 0 28px 0;
			line-height: 1.5;
			text-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
		}

		.form-field {
			margin-bottom: 24px;
		}

		.select-container {
			position: relative;
		}

		.modern-select {
			width: 100%;
			padding: 24px 70px 24px 32px;
			background: linear-gradient(135deg, #ffffff, #f8fbff);
			border: 5px solid #0b3f89;
			border-radius: 25px;
			font-size: 20px;
			font-weight: 800;
			color: #0b3f89;
			appearance: none;
			cursor: pointer;
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			backdrop-filter: blur(25px);
			box-shadow: 
				0 15px 50px rgba(11, 63, 137, 0.4), 
				inset 0 3px 12px rgba(11, 63, 137, 0.15),
				0 0 0 3px rgba(255, 255, 255, 1),
				0 0 25px rgba(11, 63, 137, 0.2);
			min-height: 80px;
			position: relative;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.modern-select:hover {
			background: linear-gradient(135deg, #e8f4f8, #ffffff);
			border-color: #1e5cb8;
			transform: translateY(-6px) scale(1.03);
			box-shadow: 
				0 25px 60px rgba(11, 63, 137, 0.5), 
				inset 0 4px 16px rgba(30, 92, 184, 0.2),
				0 0 0 5px rgba(255, 255, 255, 1),
				0 0 40px rgba(11, 63, 137, 0.4),
				0 0 80px rgba(30, 92, 184, 0.2);
		}

		.modern-select:focus {
			outline: none;
			background: linear-gradient(135deg, #e0f7fa, #ffffff);
			border-color: #00b4d8;
			transform: translateY(-6px) scale(1.03);
			box-shadow: 
				0 25px 60px rgba(0, 180, 216, 0.6), 
				inset 0 4px 16px rgba(0, 180, 216, 0.25),
				0 0 0 6px rgba(255, 255, 255, 1),
				0 0 50px rgba(0, 180, 216, 0.5),
				0 0 100px rgba(0, 180, 216, 0.3);
		}

		.select-arrow {
			position: absolute;
			right: 32px;
			top: 50%;
			transform: translateY(-50%) scale(1.8);
			color: #0b3f89;
			pointer-events: none;
			transition: all 0.4s ease;
			filter: drop-shadow(0 4px 8px rgba(11, 63, 137, 0.5));
			animation: pulse 2s ease-in-out infinite;
		}

		@keyframes pulse {
			0%, 100% { opacity: 1; }
			50% { opacity: 0.7; }
		}

		.modern-select:hover + .select-arrow {
			color: #333;
		}

		.modern-select optgroup {
			font-weight: 900;
			color: white;
			background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 50%, #00b4d8 100%);
			padding: 16px 24px;
			margin: 8px 0;
			border: none;
			border-top: 5px solid #ffffff;
			border-bottom: 5px solid #00b4d8;
			text-transform: uppercase;
			letter-spacing: 1px;
			font-size: 16px;
			text-align: center;
			box-shadow: 
				inset 0 2px 8px rgba(255, 255, 255, 0.3),
				0 4px 16px rgba(11, 63, 137, 0.4);
			position: relative;
		}

		.modern-select optgroup::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 2px;
			background: linear-gradient(90deg, transparent, #ffffff, transparent);
		}

		.modern-select option {
			padding: 18px 28px;
			font-weight: 600;
			color: #2d3748;
			background: white;
			border: none;
			border-bottom: 3px solid #e2e8f0;
			border-left: 6px solid transparent;
			border-right: 2px solid #f1f5f9;
			line-height: 1.8;
			margin: 2px 0;
			font-size: 16px;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			position: relative;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
		}

		.modern-select option::before {
			content: '';
			position: absolute;
			left: 0;
			top: 0;
			bottom: 0;
			width: 3px;
			background: linear-gradient(180deg, #e2e8f0, #cbd5e1);
			transition: all 0.3s ease;
		}

		.modern-select option:hover {
			background: linear-gradient(135deg, rgba(11, 63, 137, 0.15) 0%, rgba(30, 92, 184, 0.1) 50%, rgba(0, 180, 216, 0.05) 100%);
			color: #0b3f89;
			border-left: 6px solid #0b3f89;
			border-bottom: 3px solid #1e5cb8;
			border-right: 2px solid #00b4d8;
			transform: translateX(8px) scale(1.02);
			font-weight: 700;
			box-shadow: 
				0 6px 20px rgba(11, 63, 137, 0.2),
				inset 0 1px 4px rgba(255, 255, 255, 0.8);
		}

		.modern-select option:hover::before {
			width: 6px;
			background: linear-gradient(180deg, #0b3f89, #1e5cb8, #00b4d8);
		}

		.modern-select option:nth-child(even) {
			background: linear-gradient(135deg, #f8fafc, #f1f5f9);
			border-right: 2px solid #e2e8f0;
		}

		.modern-select option:nth-child(even):hover {
			background: linear-gradient(135deg, rgba(11, 63, 137, 0.2) 0%, rgba(30, 92, 184, 0.15) 50%, rgba(0, 180, 216, 0.1) 100%);
		}

		.modern-select option:first-of-type {
			border-top: 3px solid #cbd5e1;
			margin-top: 4px;
		}

		.modern-select option:last-of-type {
			border-bottom: 4px solid #94a3b8;
			margin-bottom: 4px;
		}

		/* Accessibilité - Label pour lecteurs d'écran */
		.sr-only {
			position: absolute;
			width: 1px;
			height: 1px;
			padding: 0;
			margin: -1px;
			overflow: hidden;
			clip: rect(0, 0, 0, 0);
			white-space: nowrap;
			border: 0;
		}

		/* ===== NOUVEAU COMPOSANT DE SÉLECTION MODERNE ===== */
		.formation-selector-modern {
			position: relative;
			width: 100%;
		}

		.formation-placeholder {
			width: 100%;
			background: linear-gradient(135deg, #ffffff, #f8fbff);
			border: 5px solid #0b3f89;
			border-radius: 25px;
			cursor: pointer;
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			backdrop-filter: blur(25px);
			box-shadow: 
				0 15px 50px rgba(11, 63, 137, 0.4), 
				inset 0 3px 12px rgba(11, 63, 137, 0.15),
				0 0 0 3px rgba(255, 255, 255, 1),
				0 0 25px rgba(11, 63, 137, 0.2);
			min-height: 90px;
			overflow: hidden;
		}

		.placeholder-content {
			display: flex;
			align-items: center;
			padding: 24px 32px;
			justify-content: space-between;
		}

		.placeholder-text {
			flex: 1;
		}

		.placeholder-title {
			font-size: 20px;
			font-weight: 900;
			color: #0b3f89;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			margin-bottom: 4px;
		}

		.placeholder-subtitle {
			font-size: 14px;
			font-weight: 600;
			color: #1e5cb8;
			opacity: 0.8;
		}

		.placeholder-arrow {
			color: #0b3f89;
			transition: all 0.3s ease;
			filter: drop-shadow(0 2px 4px rgba(11, 63, 137, 0.3));
			margin-left: 30px;
		}

		.formation-placeholder:hover {
			background: linear-gradient(135deg, #e8f4f8, #ffffff);
			border-color: #1e5cb8;
			transform: translateY(-6px) scale(1.02);
			box-shadow: 
				0 25px 60px rgba(11, 63, 137, 0.5), 
				inset 0 4px 16px rgba(30, 92, 184, 0.2),
				0 0 0 5px rgba(255, 255, 255, 1),
				0 0 40px rgba(11, 63, 137, 0.4);
		}

		.formation-placeholder:hover .placeholder-arrow {
			transform: translateY(2px);
			color: #1e5cb8;
		}

		/* Dropdown avec contexte de stacking indépendant */
		.formation-dropdown {
			position: fixed !important;
			top: auto !important;
			left: 50% !important;
			transform: translateX(-50%) !important;
			width: 90% !important;
			max-width: 800px !important;
			z-index: 2147483647 !important; /* Plus haut z-index possible */
			background: #ffffff !important;
			border: 3px solid #0b3f89 !important;
			border-radius: 25px !important;
			box-shadow: 
				0 25px 80px rgba(11, 63, 137, 0.8) !important,
				inset 0 3px 12px rgba(11, 63, 137, 0.1) !important;
			max-height: 70vh !important;
			overflow-y: auto !important;
			backdrop-filter: blur(25px) !important;
			visibility: visible !important;
			opacity: 1 !important;
			isolation: isolate !important; /* Crée un nouveau contexte de stacking */
			contain: layout style !important; /* Optimisation de rendu */
		}

		/* S'assurer que le dropdown soit visible quand ouvert */
		.formation-dropdown[style*="display: block"] {
			display: block !important;
			visibility: visible !important;
			opacity: 1 !important;
			z-index: 2147483647 !important;
		}

		/* Forcer tous les enfants du dropdown à être visibles */
		.formation-dropdown * {
			z-index: auto !important;
			position: relative !important;
		}

		/* Forcer le dropdown au-dessus de tout, même de la section IA */
		body .formation-dropdown {
			z-index: 2147483647 !important;
			position: fixed !important;
		}

		/* Réduire le z-index de tous les autres éléments potentiellement gênants */
		.featured-formation-banner,
		.featured-formation-banner *,
		.scroll-indicator,
		.wave-separator {
			z-index: 1 !important;
		}

		/* Bouton de fermeture du modal */
		.modal-close-button {
			position: absolute !important;
			top: 20px !important;
			right: 20px !important;
			width: 40px !important;
			height: 40px !important;
			background: rgba(11, 63, 137, 0.1) !important;
			border: 2px solid #0b3f89 !important;
			border-radius: 50% !important;
			display: flex !important;
			align-items: center !important;
			justify-content: center !important;
			cursor: pointer !important;
			transition: all 0.3s ease !important;
			color: #0b3f89 !important;
			z-index: 10 !important;
		}

		.modal-close-button:hover {
			background: #0b3f89 !important;
			color: white !important;
			transform: scale(1.1) !important;
			box-shadow: 0 5px 15px rgba(11, 63, 137, 0.3) !important;
		}

		.modal-close-button svg {
			width: 20px !important;
			height: 20px !important;
		}

		/* Bouton "Voir plus" de formations */
		.voir-plus-formations {
			display: flex;
			align-items: center;
			padding: 20px;
			background: linear-gradient(135deg, #f0f8ff, #e8f4f8);
			border: 2px dashed #0b3f89;
			border-radius: 15px;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			margin-top: 8px;
		}

		.voir-plus-formations:hover {
			background: linear-gradient(135deg, #e8f4f8, #d4edda);
			border-color: #1e5cb8;
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(11, 63, 137, 0.2);
		}

		.voir-plus-content {
			display: flex;
			align-items: center;
			gap: 16px;
			width: 100%;
		}

		.voir-plus-icon {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 48px;
			height: 48px;
			background: rgba(11, 63, 137, 0.1);
			border-radius: 12px;
			color: #0b3f89;
			transition: all 0.3s ease;
		}

		.voir-plus-formations:hover .voir-plus-icon {
			background: #0b3f89;
			color: white;
			transform: scale(1.1);
		}

		.voir-plus-text {
			flex-grow: 1;
		}

		.voir-plus-title {
			font-weight: 700;
			font-size: 16px;
			color: #0b3f89;
			margin-bottom: 4px;
		}

		.voir-plus-count {
			font-size: 14px;
			color: #666;
			font-weight: 500;
		}

		.voir-plus-arrow {
			color: #0b3f89;
			transition: transform 0.3s ease;
		}

		.voir-plus-formations:hover .voir-plus-arrow {
			transform: translateX(5px);
		}

		.formation-category-section {
			padding: 24px;
		}

		.category-header {
			display: flex;
			align-items: center;
			gap: 16px;
			margin-bottom: 20px;
			padding: 16px 20px;
			border-radius: 15px;
			/* PAS de color ici - laissé aux spécificités */
			/* PAS de box-shadow ici - laissé aux spécificités */
			/* IMPORTANT : Pas de background ici pour éviter d'écraser les spécificités */
		}

		/* Fond bleu SEULEMENT pour les catégories NON-IA */
		.formation-category-section:not([data-category="ia"]) .category-header {
			background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 50%, #00b4d8 100%);
			color: white;
			box-shadow: 0 8px 24px rgba(11, 63, 137, 0.3);
		}

		/* OVERRIDE SPÉCIFIQUE POUR IA - Le plus prioritaire possible */
		[data-category="ia"] .category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			color: #1a1a1a !important;
			border: 2px solid #FFD700 !important;
			box-shadow: 
				0 8px 32px rgba(255, 215, 0, 0.3) !important,
				0 4px 16px rgba(255, 165, 0, 0.2) !important;
		}

		/* FORCE ULTIME - Même les styles inline ne peuvent pas surpasser ça */
		.formation-dropdown [data-category="ia"] .category-header,
		#formationDropdown [data-category="ia"] .category-header,
		div[id="formationDropdown"] div[data-category="ia"] div.category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			color: #1a1a1a !important;
			border: 2px solid #FFD700 !important;
			box-shadow: 
				0 8px 32px rgba(255, 215, 0, 0.3) !important,
				0 4px 16px rgba(255, 165, 0, 0.2) !important;
		}

		.formation-dropdown [data-category="ia"] .category-title,
		#formationDropdown [data-category="ia"] .category-title {
			color: #1a1a1a !important;
			font-weight: 900 !important;
		}

		.formation-dropdown [data-category="ia"] .category-count,
		#formationDropdown [data-category="ia"] .category-count {
			background: linear-gradient(135deg, #1a1a1a, #2d2d2d) !important;
			color: #FFD700 !important;
			border: 2px solid #FFD700 !important;
			font-weight: 900 !important;
		}

		/* ANNULATION ULTRA SPÉCIFIQUE DU FOND BLEU */
		.formation-dropdown .formation-category-section[data-category="ia"] .category-header,
		#formationDropdown .formation-category-section[data-category="ia"] .category-header,
		div[id="formationDropdown"] .formation-category-section[data-category="ia"] .category-header,
		[data-category="ia"] .category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			background-color: #FFD700 !important;
		}

		/* Suppression explicite des styles bleus */
		.category-header[style*="0b3f89"],
		.category-header[style*="1e5cb8"],
		.category-header[style*="00b4d8"] {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
		}

		/* RÈGLE ULTIME - SPÉCIFICITÉ MAXIMALE POUR IA */
		div.formation-dropdown div[data-category="ia"] div.category-header,
		#formationDropdown div[data-category="ia"] div.category-header,
		div[id="formationDropdown"] div[data-category="ia"] div.category-header,
		.formation-category-section[data-category="ia"] div.category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			background-color: #FFD700 !important;
			color: #1a1a1a !important;
		}

		.category-icon {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 24px;
			height: 24px;
			color: white;
			animation: bounce-icon 2s ease-in-out infinite;
		}

		.category-icon svg {
			width: 100%;
			height: 100%;
		}

		.category-title {
			flex: 1;
			margin: 0;
			font-size: 18px;
			font-weight: 800;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.category-count {
			background: linear-gradient(135deg, #ffffff, #f0f8ff);
			border: 2px solid #0b3f89;
			padding: 8px 16px;
			border-radius: 25px;
			font-size: 14px;
			font-weight: 800;
			color: #0b3f89;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			box-shadow: 
				0 4px 15px rgba(11, 63, 137, 0.3),
				inset 0 2px 8px rgba(255, 255, 255, 0.8);
			backdrop-filter: blur(15px);
			position: relative;
			overflow: hidden;
		}

		.category-count::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent);
			transition: left 0.5s ease;
		}

		.category-header:hover .category-count::before {
			left: 100%;
		}

		.category-header:hover .category-count {
			background: linear-gradient(135deg, #e8f4f8, #ffffff);
			transform: scale(1.05);
			box-shadow: 
				0 6px 20px rgba(11, 63, 137, 0.4),
				inset 0 2px 10px rgba(255, 255, 255, 0.9);
		}

		/* ===== CATÉGORIE IA SPÉCIALE EN OR ===== */
		.formation-category-section[data-category="ia"] .category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			color: #1a1a1a !important;
			border: 2px solid #FFD700 !important;
			box-shadow: 
				0 8px 32px rgba(255, 215, 0, 0.3),
				0 4px 16px rgba(255, 165, 0, 0.2) !important;
			position: relative;
			overflow: hidden;
		}

		/* S'assurer que c'est appliqué aussi dans le dropdown avec spécificité maximale */
		.formation-dropdown #formationDropdown .formation-category-section[data-category="ia"] .category-header,
		#formationDropdown .formation-category-section[data-category="ia"] .category-header,
		div[id="formationDropdown"] .formation-category-section[data-category="ia"] .category-header {
			background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important;
			color: #1a1a1a !important;
			border: 2px solid #FFD700 !important;
			box-shadow: 
				0 8px 32px rgba(255, 215, 0, 0.3),
				0 4px 16px rgba(255, 165, 0, 0.2) !important;
		}

		.formation-category-section[data-category="ia"] .category-header::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
			transition: left 0.3s ease;
		}

		.formation-category-section[data-category="ia"] .category-header:hover::before {
			left: 100%;
		}

		.formation-category-section[data-category="ia"] .category-title,
		#formationDropdown .formation-category-section[data-category="ia"] .category-title {
			color: #1a1a1a !important;
			font-weight: 900 !important;
			text-shadow: 0 2px 4px rgba(255, 215, 0, 0.3) !important;
		}

		.formation-category-section[data-category="ia"] .category-count,
		#formationDropdown .formation-category-section[data-category="ia"] .category-count {
			background: linear-gradient(135deg, #1a1a1a, #2d2d2d) !important;
			color: #FFD700 !important;
			border: 2px solid #FFD700 !important;
			font-weight: 900 !important;
			box-shadow: 
				0 4px 15px rgba(255, 215, 0, 0.4),
				inset 0 2px 8px rgba(0, 0, 0, 0.3) !important;
		}

		.formation-category-section[data-category="ia"] .category-header:hover .category-count {
			background: linear-gradient(135deg, #2d2d2d, #1a1a1a) !important;
			transform: scale(1.1) !important;
			box-shadow: 
				0 6px 20px rgba(255, 215, 0, 0.6),
				inset 0 2px 10px rgba(0, 0, 0, 0.4);
		}

		/* Badge NOUVEAU pour IA */
		.formation-category-section[data-category="ia"]::after,
		#formationDropdown .formation-category-section[data-category="ia"]::after {
			content: 'NOUVEAU';
			position: absolute;
			top: 10px;
			right: 10px;
			background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 50%, #FF6B9D 100%) !important;
			color: white !important;
			font-size: 11px;
			font-weight: 900;
			padding: 6px 12px;
			border-radius: 15px;
			text-transform: uppercase;
			letter-spacing: 1px;
			box-shadow: 
				0 4px 12px rgba(255, 107, 107, 0.4),
				0 2px 6px rgba(255, 107, 107, 0.6) !important;
			z-index: 10;
			animation: pulse-badge-ia 2s infinite;
			border: 2px solid rgba(255, 255, 255, 0.9) !important;
		}

		@keyframes pulse-badge-ia {
			0%, 100% { 
				transform: scale(1);
				box-shadow: 
					0 4px 12px rgba(255, 107, 107, 0.4),
					0 2px 6px rgba(255, 107, 107, 0.6);
			}
			50% { 
				transform: scale(1.08);
				box-shadow: 
					0 6px 18px rgba(255, 107, 107, 0.6),
					0 3px 10px rgba(255, 107, 107, 0.8);
			}
		}

		.formations-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 16px;
		}

		.formation-card {
			display: flex;
			align-items: center;
			gap: 16px;
			padding: 20px;
			background: linear-gradient(135deg, #f8fbff, #ffffff);
			border: 2px solid #e8f4f8;
			border-radius: 15px;
			cursor: pointer;
			transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
		}

		.formation-card:hover {
			background: linear-gradient(135deg, #e8f4f8, #ffffff);
			border-color: #0b3f89;
			transform: translateY(-4px) scale(1.02);
			box-shadow: 
				0 15px 40px rgba(11, 63, 137, 0.3),
				inset 0 2px 8px rgba(0, 180, 216, 0.1);
		}

		.formation-card-icon {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 24px;
			height: 24px;
			color: #0b3f89;
			opacity: 0.8;
		}

		.formation-card-icon svg {
			width: 100%;
			height: 100%;
		}

		.formation-card-content {
			flex: 1;
		}

		.formation-card-title {
			font-size: 16px;
			font-weight: 700;
			color: #0b3f89;
			margin-bottom: 4px;
			line-height: 1.2;
		}

		.formation-card-badge {
			font-size: 12px;
			font-weight: 600;
			color: #1e5cb8;
			opacity: 0.8;
		}

		.formation-card-arrow {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 20px;
			height: 20px;
			color: #0b3f89;
			transition: all 0.3s ease;
		}

		.formation-card-arrow svg {
			width: 100%;
			height: 100%;
		}

		.formation-card:hover .formation-card-arrow {
			transform: translateX(4px);
			color: #1e5cb8;
		}

		/* Séparateurs modernes */
		.category-separator {
			display: flex;
			align-items: center;
			gap: 16px;
			margin: 32px 24px;
			opacity: 0.6;
		}

		.separator-line {
			flex: 1;
			height: 2px;
			background: linear-gradient(90deg, transparent, #0b3f89, transparent);
		}

		.separator-dot {
			width: 12px;
			height: 12px;
			background: #0b3f89;
			border-radius: 50%;
			box-shadow: 0 0 0 4px rgba(11, 63, 137, 0.2);
			animation: pulse-dot 2s ease-in-out infinite;
		}

		/* Animations */
		@keyframes pulse-icon {
			0%, 100% { opacity: 1; transform: scale(1); }
			50% { opacity: 0.7; transform: scale(1.1); }
		}

		@keyframes bounce-icon {
			0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
			40% { transform: translateY(-3px); }
			60% { transform: translateY(-1px); }
		}

		@keyframes pulse-dot {
			0%, 100% { opacity: 1; transform: scale(1); }
			50% { opacity: 0.7; transform: scale(1.2); }
		}

		/* État ouvert du dropdown */
		.formation-selector-modern[data-open="true"] .placeholder-arrow {
			transform: rotate(180deg);
		}

		.formation-selector-modern[data-open="true"] .formation-placeholder {
			border-radius: 25px 25px 0 0;
			border-bottom: 2px solid #e8f4f8;
		}

		/* CTA Section */
		.hero-cta-section {
			text-align: center;
			margin-top: 32px;
			padding-top: 32px;
			border-top: 1px solid rgba(255, 255, 255, 0.2);
		}

		.cta-description {
			color: white;
			font-size: 18px;
			font-weight: 500;
			margin: 0 0 24px 0;
		}

		.cta-buttons {
			display: flex; 
			gap: 16px;
			justify-content: center;
			flex-wrap: wrap;
		}

		.hero-btn-secondary {
			background: rgba(255, 255, 255, 0.2);
			color: white;
			border: 2px solid rgba(255, 255, 255, 0.3);
			padding: 12px 24px;
			border-radius: 16px;
			font-size: 16px;
			font-weight: 600;
			cursor: pointer;
			transition: var(--transition);
			backdrop-filter: blur(10px);
			text-decoration: none;
		}

		.hero-btn-secondary:hover {
			background: rgba(255, 255, 255, 0.3);
			border-color: rgba(255, 255, 255, 0.5);
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
			text-decoration: none;
			color: white;
    }

		/* Correction responsive du select */
		.select-container {
			width: 100%;
			max-width: 500px;
			margin: 0 auto;
		}

		.form-body {
			width: 100%;
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		.form-field {
			width: 100%;
			display: flex;
			justify-content: center;
		}

		.modern-select {
			width: 100%;
			max-width: 100%;
			box-sizing: border-box;
		}

		@media (max-width: 600px) {
			.select-container {
				max-width: 100%;
				padding: 0 5px;
			}

			/* Responsivité du nouveau composant */
			.formation-placeholder {
				min-height: 80px;
			}

			.placeholder-content {
				padding: 20px 24px;
			}

			.placeholder-title {
				font-size: 18px;
			}

			.placeholder-subtitle {
				font-size: 13px;
			}

			.formations-grid {
				grid-template-columns: 1fr;
				gap: 12px;
			}

			.formation-card {
				padding: 16px;
				gap: 12px;
			}

			.formation-card-title {
				font-size: 15px;
			}

			.category-header {
				padding: 12px 16px;
				gap: 12px;
			}

			.category-title {
				font-size: 16px;
			}

			/* Optimisations mobile pour modal centré */
			.formation-dropdown {
				width: 95% !important;
				max-height: 85vh !important;
				padding-top: 50px !important;
			}

			.modal-close-button {
				width: 36px !important;
				height: 36px !important;
				top: 15px !important;
				right: 15px !important;
			}

			.modal-close-button svg {
				width: 18px !important;
				height: 18px !important;
			}

			.voir-plus-formations {
				padding: 16px !important;
			}

			.voir-plus-content {
				gap: 12px !important;
			}

			.voir-plus-icon {
				width: 40px !important;
				height: 40px !important;
			}

			.voir-plus-title {
				font-size: 15px !important;
			}

			.voir-plus-count {
				font-size: 13px !important;
			}

			/* Compteur de formations mobile */
			.category-count {
				font-size: 12px !important;
				padding: 6px 12px !important;
				font-weight: 700 !important;
			}

			/* Espacement flèche mobile */
			.placeholder-arrow {
				margin-left: 20px !important;
			}
		}

		/* Ajout de margin sous le texte 'plus de contenu ci-dessous' */
		.scroll-indicator {
			margin-bottom: 20px;
		}

		/* Padding à droite pour le menu burger sur mobile */
		@media (max-width: 768px) {
			.header__menu-burger {
				right: 16px;
				position: absolute;
				top: 24px;
			}
			.header__container {
				position: relative;
			}
    }

		/* Overlay pour menu mobile */
		.menu-mobile-overlay {
			display: none;
			position: fixed;
			top: 0; left: 0; right: 0; bottom: 0;
			background: rgba(11, 63, 137, 0.85);
			z-index: 9998;
		}

		.header--active .menu-mobile-overlay {
			display: block;
		}

		/* Menu mobile plein écran */
		@media (max-width: 768px) {
			#menu {
				display: none;
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				background: #f8fafc;
				z-index: 9999;
				flex-direction: column;
				justify-content: flex-start;
				align-items: stretch;
				padding-top: 80px;
				overflow-y: auto;
				box-shadow: 0 0 40px rgba(11,63,137,0.15);
			}
			.header--active #menu {
				display: flex;
			}
			.header__menu-burger {
				display: flex;
				z-index: 10000;
			}
			.header__cta {
				width: 90%;
				margin: 16px auto 0 auto;
				display: block;
				text-align: center;
			}
			.header__cta__doc, .header__cta__INFPFlearning {
				margin-bottom: 10px;
			}
		}
		@media (min-width: 769px) {
			.header__menu-burger {
				display: none !important;
			}
			#menu {
				display: flex !important;
				position: static !important;
				width: auto !important;
				height: auto !important;
				background: none !important;
				box-shadow: none !important;
				padding-top: 0 !important;
				z-index: auto !important;
			}
			.menu-mobile-overlay {
				display: none !important;
			}
    }

		/* ===== BANDEAU NOUVELLES FORMATIONS IA ===== */
		.featured-formation-banner {
			background: 
				linear-gradient(135deg, rgba(0, 0, 0, 0.6) 0%, rgba(11, 63, 137, 0.7) 100%),
				url('{{ asset('img/stress image.png') }}') center/cover no-repeat;
			padding: 30px 20px 25px;
			position: relative;
			overflow: hidden;
			border: 2px solid #0b3f89;
			box-shadow: 
				0 0 20px rgba(11, 63, 137, 0.3),
				inset 0 0 30px rgba(11, 63, 137, 0.1);
			z-index: 1 !important; /* Forcer un z-index très bas pour ne pas gêner le dropdown */
			margin: 0;
			transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
		}

		/* ===== HEADER INTÉGRÉ DANS LE BANDEAU ===== */
		.banner-header {
			text-align: center;
			margin-bottom: 25px;
			position: relative;
			z-index: 4;
		}

		.banner-main-title {
			font-size: clamp(3rem, 5vw, 4.5rem);
			font-weight: 700;
			color: #ffffff;
			margin: 0 0 20px 0;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
			text-align: center;
		}



		.banner-subtitle {
			font-size: clamp(1.3rem, 2.5vw, 1.8rem);
			color: rgba(255, 255, 255, 0.9);
			margin: 0;
			font-weight: 500;
			text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
		}



		.featured-formation-banner::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background: 
				radial-gradient(circle at 30% 70%, rgba(11, 63, 137, 0.3) 0%, transparent 50%),
				radial-gradient(circle at 70% 30%, rgba(30, 92, 184, 0.3) 0%, transparent 50%);
			animation: imageOverlay 4s ease-in-out infinite alternate;
			z-index: 1;
		}

		@keyframes imageOverlay {
			0% { 
				opacity: 0.7;
				transform: scale(1);
			}
			100% { 
				opacity: 1;
				transform: scale(1.01);
			}
		}

		.featured-formation-banner::after {
			content: '';
			position: absolute;
			top: -2px;
			left: -2px;
			right: -2px;
			bottom: -2px;
			background: linear-gradient(45deg, 
				rgba(11, 63, 137, 0.3), 
				rgba(30, 92, 184, 0.3), 
				rgba(11, 63, 137, 0.3), 
				rgba(30, 92, 184, 0.3)
			);
			z-index: -1;
			border-radius: 8px;
			animation: borderGlow 3s ease-in-out infinite alternate;
		}

		@keyframes borderGlow {
			0% { opacity: 0.6; }
			100% { opacity: 1; }
		}

		.featured-formation-content {
			max-width: 1000px;
			margin: 0 auto;
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 30px;
			align-items: stretch;
			position: relative;
			z-index: 3;
		}

		.featured-formation-text {
			color: white;
		}

		/* ===== CARTES FORMATIONS COMPACTES ===== */
		.featured-formation-card {
			background: rgba(11, 63, 137, 0.15);
			backdrop-filter: blur(20px);
			border: 2px solid rgba(255, 255, 255, 0.3);
			border-radius: 20px;
			padding: 30px 25px;
			transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
			position: relative;
			overflow: hidden;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			text-align: center;
			min-height: 400px;
		}

		.featured-formation-card:hover {
			transform: translateY(-8px) scale(1.02);
			background: rgba(11, 63, 137, 0.25);
			border-color: rgba(255, 255, 255, 0.5);
			box-shadow: 0 20px 50px rgba(11, 63, 137, 0.4);
		}

		.featured-formation-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 6px;
			background: linear-gradient(90deg, #1e5cb8, #0b3f89);
			border-radius: 25px 25px 0 0;
		}

		/* Badge OFFRE SPÉCIALE - Cercle parfait avec cible */
		.special-offer-badge {
			position: absolute;
			top: 12px;
			right: 12px;
			z-index: 15;
			animation: specialOfferPulse 3s ease-in-out infinite;
		}

		.special-offer-badge .badge-circle {
			position: relative;
			width: 70px; /* PLUS GROS pour le texte */
			height: 70px;
			background: linear-gradient(135deg, #2E7D32, #4CAF50, #66BB6A);
			color: white;
			border: 2px solid #FFFFFF;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 
				0 4px 15px rgba(46, 125, 50, 0.6),
				inset 0 2px 5px rgba(255, 255, 255, 0.4);
			overflow: visible; /* VISIBLE pour voir les rayons hypnotiques */
		}

		.special-offer-badge .badge-circle::before {
			content: '';
			position: absolute;
			top: -10px; /* RAYONS PLUS VISIBLES */
			left: -10px;
			right: -10px;
			bottom: -10px;
			background: conic-gradient(from 0deg, transparent, #4CAF50, transparent, #2E7D32, transparent, #4CAF50, transparent, #2E7D32, transparent); /* RAYONS VERTS CONTRASTÉS */
			border-radius: 50%;
			z-index: -1;
			animation: targetRotateSlow 4s linear infinite;
			opacity: 0.7; /* Légèrement transparent pour l'effet */
		}

		/* Badge BEST SELLER - Cercle parfait avec cible DOMINANTE */
		.best-seller-badge {
			position: absolute;
			top: 8px;
			right: 8px;
			z-index: 20;
			animation: bestSellerPulse 2.5s ease-in-out infinite;
		}

		.best-seller-badge .badge-circle {
			position: relative;
			width: 85px;
			height: 85px;
			background: linear-gradient(135deg, #FFD700, #FFA500, #FF8C00);
			color: white;
			border: 4px solid #FFFFFF;
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			box-shadow: 
				0 8px 30px rgba(255, 215, 0, 0.8),
				inset 0 3px 10px rgba(255, 255, 255, 0.6),
				0 0 20px rgba(255, 165, 0, 0.5);
			overflow: visible; /* VISIBLE pour voir les rayons hypnotiques */
		}

		.best-seller-badge .badge-circle::before {
			content: '';
			position: absolute;
			top: -15px; /* RAYONS ENCORE PLUS GROS pour dominer */
			left: -15px;
			right: -15px;
			bottom: -15px;
			background: conic-gradient(from 0deg, transparent, #FFD700, transparent, #FF8C00, transparent, #FFD700, transparent, #FF8C00, transparent); /* RAYONS DORÉS INTENSES */
			border-radius: 50%;
			z-index: -1;
			animation: targetRotateFast 3s linear infinite;
			opacity: 0.8; /* Plus opaque = plus visible */
		}

		/* Styles communs pour les textes */
		.badge-text {
			font-size: 11px; /* Plus gros maintenant qu'on a plus d'espace */
			font-weight: 800;
			text-transform: uppercase;
			letter-spacing: 0.7px;
			line-height: 1.1;
			text-align: center;
			text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
			z-index: 1;
		}

		.best-seller-badge .badge-text {
			font-size: 12px;
			font-weight: 900;
			letter-spacing: 0.8px;
			text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
		}

		/* Animations des cercles */
		@keyframes specialOfferPulse {
			0%, 100% { 
				transform: scale(1);
			}
			50% { 
				transform: scale(1.04);
			}
		}

		@keyframes bestSellerPulse {
			0%, 100% { 
				transform: scale(1);
			}
			50% { 
				transform: scale(1.07);
			}
		}

		/* Animations des cibles - PROPRES sans artefacts */
		@keyframes targetRotateSlow {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}

		@keyframes targetRotateFast {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}



		/* TITRES DE NIVEAU SIMPLES */
		.formation-level-title {
			font-size: clamp(2rem, 4vw, 2.8rem);
			font-weight: 700;
			color: #ffffff;
			margin: 0 0 20px 0;
			text-transform: uppercase;
			letter-spacing: 1px;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
			text-align: center;
		}

		/* Zone des badges en ligne */
		.formation-badges {
			display: flex;
			flex-direction: row;
			align-items: center;
			justify-content: center;
			gap: 15px;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}

		.formation-title {
			font-size: clamp(1.8rem, 3.5vw, 2.4rem);
			font-weight: 600;
			color: white;
			margin: 15px 0 20px 0;
			line-height: 1.3;
			text-shadow: 
				2px 2px 6px rgba(0, 0, 0, 0.7),
				0 0 15px rgba(11, 63, 137, 0.5);
		}

		.formation-description {
			font-size: clamp(1.2rem, 2.2vw, 1.5rem);
			color: white;
			line-height: 1.5;
			margin-bottom: 25px;
			text-shadow: 
				1px 1px 4px rgba(0, 0, 0, 0.8),
				0 0 10px rgba(11, 63, 137, 0.3);
			background: rgba(11, 63, 137, 0.1);
			backdrop-filter: blur(10px);
			padding: 20px;
			border-radius: 12px;
			border: 1px solid rgba(255, 255, 255, 0.2);
			font-weight: 400;
		}

		.formation-cpf-badge {
			background: linear-gradient(135deg, #22c55e, #16a34a);
			color: white;
			padding: 10px 20px;
			border-radius: 20px;
			font-size: 16px;
			font-weight: 600;
			display: inline-block;
			box-shadow: 0 4px 15px rgba(34, 197, 94, 0.4);
			border: 1px solid rgba(255, 255, 255, 0.2);
			text-transform: uppercase;
			letter-spacing: 0.3px;
		}

		.formation-cta {
			background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 50%, #0077b6 100%);
			color: white;
			padding: 16px 32px;
			border: 2px solid rgba(255, 255, 255, 0.4);
			border-radius: 25px;
			font-size: 16px;
			font-weight: 600;
			text-decoration: none;
			text-transform: uppercase;
			letter-spacing: 0.5px;
			transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 
				0 4px 15px rgba(11, 63, 137, 0.5),
				0 0 20px rgba(255, 255, 255, 0.3),
				inset 0 1px 4px rgba(255, 255, 255, 0.1);
			position: relative;
			overflow: hidden;
			backdrop-filter: blur(10px);
		}



		.formation-cta::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
			transition: left 0.6s ease;
		}

		.formation-cta:hover {
			transform: translateY(-4px) scale(1.05);
			background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 50%, #ffffff 100%);
			color: #0b3f89;
			border-color: #0b3f89;
			text-decoration: none;
			box-shadow: 
				0 15px 40px rgba(11, 63, 137, 0.6),
				0 0 50px rgba(255, 255, 255, 0.8);
		}

		.formation-cta:hover::before {
			left: 100%;
		}

		.featured-formation-badge {
			display: inline-block;
			background: linear-gradient(135deg, #1e5cb8, #0b3f89);
			color: #ffffff;
			padding: 10px 20px;
			border-radius: 20px;
			font-size: 16px;
			font-weight: 600;
			font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
			border: 1px solid rgba(255, 255, 255, 0.3);
			box-shadow: 
				0 4px 15px rgba(11, 63, 137, 0.4),
				inset 0 1px 4px rgba(255, 255, 255, 0.2);
			text-transform: uppercase;
			letter-spacing: 0.3px;
			backdrop-filter: blur(10px);
		}



		/* Responsive optimisé pour design compact */
		@media (max-width: 768px) {
			.hero-banner {
				min-height: 65vh; /* Ajustement mobile pour le bandeau */
				max-height: 600px;
			}

			.featured-formation-banner {
				padding: 25px 16px 20px;
				border-width: 1px;
				background: 
					linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(11, 63, 137, 0.8) 100%),
					url('{{ asset('img/stress image.png') }}') center/cover no-repeat;
			}

			.banner-header {
				margin-bottom: 20px;
			}

			.banner-main-title {
				font-size: clamp(2.2rem, 6vw, 3.2rem);
				margin-bottom: 15px;
			}

			.banner-subtitle {
				font-size: clamp(1.1rem, 3vw, 1.4rem);
			}

			.featured-formation-content {
				grid-template-columns: 1fr;
				gap: 20px;
				max-width: 450px;
			}

			.featured-formation-card {
				min-height: 350px;
				padding: 25px 20px;
			}

			/* Badges responsives - Tablette */
			.special-offer-badge .badge-circle {
				width: 62px; /* Gardons la proportion avec la nouvelle taille */
				height: 62px;
			}

			.special-offer-badge .badge-text {
				font-size: 10px;
			}

			.best-seller-badge .badge-circle {
				width: 75px;
				height: 75px;
			}

			.best-seller-badge .badge-text {
				font-size: 11px;
			}

			.formation-level-title {
				font-size: clamp(1.6rem, 5vw, 2.2rem);
				margin-bottom: 15px;
			}

			.formation-badges {
				gap: 12px;
				margin-bottom: 15px;
			}

			.formation-title {
				font-size: clamp(1.4rem, 5vw, 1.9rem);
				margin: 12px 0 15px 0;
			}

			.formation-description {
				font-size: clamp(1rem, 3vw, 1.3rem);
				padding: 16px;
				margin-bottom: 20px;
			}

			.formation-cta {
				padding: 14px 28px;
				font-size: 15px;
			}

			.featured-formation-badge {
				font-size: 14px;
				padding: 8px 16px;
			}

			.formation-cpf-badge {
				font-size: 14px;
				padding: 8px 16px;
			}
		}

		@media (max-width: 480px) {
			.featured-formation-banner {
				padding: 20px 12px 18px;
				background: 
					linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(11, 63, 137, 0.9) 100%),
					url('{{ asset('img/stress image.png') }}') center/cover no-repeat;
			}

			.banner-header {
				margin-bottom: 18px;
			}

			.banner-main-title {
				font-size: clamp(2rem, 7vw, 2.8rem);
				margin-bottom: 12px;
			}

			.banner-subtitle {
				font-size: clamp(1rem, 4vw, 1.3rem);
			}

			.featured-formation-content {
				gap: 20px;
				max-width: 380px;
			}

			.featured-formation-card {
				min-height: 320px;
				padding: 22px 18px;
			}

			/* Badges responsives - Mobile */
			.special-offer-badge .badge-circle {
				width: 58px; /* Gardons la lisibilité même sur mobile */
				height: 58px;
			}

			.special-offer-badge .badge-text {
				font-size: 9px;
			}

			.best-seller-badge .badge-circle {
				width: 68px;
				height: 68px;
			}

			.best-seller-badge .badge-text {
				font-size: 10px;
			}

			.formation-level-title {
				font-size: clamp(1.4rem, 6vw, 1.8rem);
				margin-bottom: 12px;
			}

			.formation-badges {
				gap: 8px;
				margin-bottom: 12px;
			}

			.formation-title {
				font-size: clamp(1.2rem, 5vw, 1.6rem);
				margin: 10px 0 12px 0;
			}

			.formation-description {
				font-size: clamp(0.9rem, 3.5vw, 1.1rem);
				padding: 14px;
				margin-bottom: 18px;
			}

			.formation-cta {
				padding: 12px 24px;
				font-size: 14px;
			}

			.featured-formation-badge {
				font-size: 12px;
				padding: 6px 12px;
			}

			.formation-cpf-badge {
				font-size: 12px;
				padding: 6px 12px;
			}
    }
	</style>
{% endblock %}

{% block body %}
	<!-- Hero Banner Moderne Compact -->
	<div class="hero-banner">
		<div class="hero-background">
			<div class="hero-gradient"></div>
		</div>
		<div class="hero-content">
			<div class="hero-card">
				<div class="hero-header">
					<div class="hero-icon"></div>
					<h1 class="hero-title">Bienvenue à l'Institut National de la Formation Professionnelle Française</h1>
					<p class="hero-subtitle">Découvrez nos formations d'excellence et donnez un nouvel élan à votre carrière</p>
			</div>

						
						<div class="form-body">
							<div class="form-page active" data-js="page-field-id-1" id="gform_page_151_1">
								<div class="form-question">
									<h3 class="question-title">Quelle formation vous intéresse ?</h3>
									<p class="question-subtitle">Sélectionnez la formation qui correspond à vos objectifs professionnels</p>
					</div>
								
								<div class="form-field">
									<!-- Nouveau composant de sélection moderne -->
									<div class="formation-selector-modern" id="formationSelector">
										<div class="formation-placeholder" id="formationPlaceholder" onclick="toggleFormationDropdown()">
											<div class="placeholder-content">
												<div class="placeholder-text">
													<div class="placeholder-title">Sélectionnez votre domaine de formation</div>
													<div class="placeholder-subtitle">Cliquez pour explorer nos formations par catégorie</div>
												</div>
											<div class="placeholder-arrow" id="placeholderArrow">
													<svg width="16" height="10" viewBox="0 0 16 10" fill="none">
														<path d="M2 2L8 8L14 2" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
													</svg>
												</div>
											</div>
										</div>

										<div class="formation-dropdown" id="formationDropdown" style="display: none;">
											<!-- Bouton de fermeture -->
											<div class="modal-close-button" onclick="window.toggleFormationDropdown()">
												<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
													<path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
												</svg>
											</div>
											{% for category in category %}
												<div class="formation-category-section" data-category="{{ category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) }}">
													<div class="category-header"{% if category.name|lower == 'ia' %} style="background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important; color: #1a1a1a !important; border: 2px solid #FFD700 !important;"{% endif %}>
														<div class="category-icon">
															{% if category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'ia' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<!-- Icône Robot/IA -->
																	<rect x="6" y="6" width="12" height="12" rx="2" stroke="#1a1a1a" stroke-width="2" fill="none"/>
																	<circle cx="9" cy="9" r="1" fill="#1a1a1a"/>
																	<circle cx="15" cy="9" r="1" fill="#1a1a1a"/>
																	<rect x="10" y="12" width="4" height="2" rx="1" fill="#1a1a1a"/>
																	<!-- Antennes -->
																	<line x1="8" y1="6" x2="8" y2="4" stroke="#1a1a1a" stroke-width="2"/>
																	<line x1="16" y1="6" x2="16" y2="4" stroke="#1a1a1a" stroke-width="2"/>
																	<circle cx="8" cy="4" r="1" fill="#1a1a1a"/>
																	<circle cx="16" cy="4" r="1" fill="#1a1a1a"/>
																	<!-- Corps -->
																	<line x1="12" y1="18" x2="12" y2="20" stroke="#1a1a1a" stroke-width="2"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'finance' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="currentColor"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'administration' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<polyline points="14,2 14,8 20,8" stroke="white" stroke-width="1.5" fill="white"/>
																	<line x1="16" y1="13" x2="8" y2="13" stroke="white" stroke-width="1.5"/>
																	<line x1="16" y1="17" x2="8" y2="17" stroke="white" stroke-width="1.5"/>
																	<line x1="10" y1="9" x2="8" y2="9" stroke="white" stroke-width="1.5"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'informatique' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<polyline points="16,18 22,12 16,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
																	<polyline points="8,6 2,12 8,18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
																	<rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="1.5" fill="currentColor" opacity="0.1"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'design' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<circle cx="18" cy="5" r="3" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<circle cx="6" cy="12" r="3" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<circle cx="18" cy="19" r="3" stroke="currentColor" stroke-width="2" fill="none"/>
																	<line x1="8.59" y1="13.51" x2="15.42" y2="17.49" stroke="currentColor" stroke-width="2"/>
																	<line x1="15.41" y1="6.51" x2="8.59" y2="10.49" stroke="currentColor" stroke-width="2"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'management' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" fill="none"/>
																	<circle cx="8.5" cy="7" r="4" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<path d="M20 8v6M23 11l-3 3-3-3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
																	<circle cx="20" cy="4" r="2" stroke="currentColor" stroke-width="1.5" fill="currentColor"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'vente' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<path d="M3 3h2l.4 2M7 13h10l4-8H5.4m1.6 8L5.4 5H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
																	<circle cx="9" cy="20" r="1" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<circle cx="20" cy="20" r="1" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<path d="M7 13h10v4a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2v-4z" stroke="currentColor" stroke-width="1.5" fill="currentColor" opacity="0.3"/>
																</svg>
															{% elseif category.name|lower|replace({' ': '-', 'é': 'e', 'è': 'e', 'à': 'a', 'ç': 'c'}) == 'marketing' %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<path d="M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 5-18 5-18s-3 0-9 0-9 0-9 0 2 18 5 18c1.25 0 2.5-1.06 4-1.06Z" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<path d="M12 9s4-2 8-2-4 6-4 6 0 2.5-2 5-2-2.5-2-5 0-2 0-4z" stroke="white" stroke-width="1.5" fill="white"/>
																</svg>
															{% else %}
																<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																	<path d="M12 2l3.09 6.26L22 9l-5.45 4.97L19.18 22 12 17.27 4.82 22l2.63-8.03L2 9l6.91-.74L12 2z" stroke="currentColor" stroke-width="2" fill="currentColor"/>
																	<circle cx="12" cy="12" r="3" stroke="white" stroke-width="1.5" fill="white"/>
																</svg>
														{% endif %}
														</div>
														<h4 class="category-title" {% if category.name|lower == 'ia' %}style="color: #1a1a1a !important; font-weight: 900 !important;"{% endif %}>{{ category.name }}</h4>
														<div class="category-count" {% if category.name|lower == 'ia' %}style="background: linear-gradient(135deg, #1a1a1a, #2d2d2d) !important; color: #FFD700 !important; border: 2px solid #FFD700 !important; font-weight: 900 !important;"{% endif %}>{{ formations|filter(f => f.category.id == category.id)|length }} formation{{ formations|filter(f => f.category.id == category.id)|length > 1 ? 's' : '' }}</div>
													</div>
													
													<div class="formations-grid">
														{% set categoryFormations = formations|filter(f => f.category.id == category.id) %}
														{% set maxFormations = 5 %}
														{% for formation in categoryFormations|slice(0, maxFormations) %}
															<div class="formation-card" onclick="selectFormation({{ formation.id }})" data-formation-id="{{ formation.id }}">
																<div class="formation-card-icon">
																	<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
																		<path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" stroke="currentColor" stroke-width="2" fill="none"/>
																		<polyline points="3,8 12,13 21,8" stroke="currentColor" stroke-width="2"/>
																		<line x1="12" y1="22" x2="12" y2="13" stroke="currentColor" stroke-width="2"/>
																	</svg>
																</div>
																<div class="formation-card-content">
																	<div class="formation-card-title">{{ formation.nameFormation }}</div>
																	<div class="formation-card-badge">Formation professionnelle</div>
																</div>
																<div class="formation-card-arrow">
																	<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
																		<path d="M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
																		<path d="m12 5 7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
																	</svg>
																</div>
															</div>
													{% endfor %}
														
														{% if categoryFormations|length > maxFormations %}
															<div class="voir-plus-formations" onclick="window.location.href='/formation?category={{ category.name|url_encode }}'">
																<div class="voir-plus-content">
																	<div class="voir-plus-icon">
																		<svg width="24" height="24" viewBox="0 0 24 24" fill="none">
																			<path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
											</svg>
										</div>
																	<div class="voir-plus-text">
																		<div class="voir-plus-title">Voir toutes les formations {{ category.name }}</div>
																		<div class="voir-plus-count">{{ categoryFormations|length - maxFormations }} formation{{ (categoryFormations|length - maxFormations) > 1 ? 's' : '' }} supplémentaire{{ (categoryFormations|length - maxFormations) > 1 ? 's' : '' }}</div>
																	</div>
																	<div class="voir-plus-arrow">
																		<svg width="20" height="16" viewBox="0 0 20 16" fill="none">
																			<path d="M13 1L19 8L13 15M19 8H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
																		</svg>
																	</div>
																</div>
															</div>
														{% endif %}
													</div>
												</div>
												
												{% if not loop.last %}
													<div class="category-separator">
														<div class="separator-line"></div>
														<div class="separator-dot"></div>
														<div class="separator-line"></div>
													</div>
												{% endif %}
											{% endfor %}
										</div>
									</div>
								</div>


							</div>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- Indicateur de scroll simplifié -->
		<div class="scroll-indicator" onclick="document.querySelector('.featured-formation-banner').scrollIntoView({behavior: 'smooth'})">
			<div class="scroll-text">Découvrez nos nouvelles formations IA</div>
			<div class="scroll-arrow-simple">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="none">
					<path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				</svg>
			</div>
		</div>

		<!-- Séparateur en vague -->
		<div class="wave-separator">
			<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
				<path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
			</svg>
		</div>
	</div>

	<!-- BANDEAU NOUVELLES FORMATIONS IA -->
	<div class="featured-formation-banner">
		<div class="banner-header">
			<h2 class="banner-main-title">NOUVELLES FORMATIONS IA</h2>
			<p class="banner-subtitle">Découvrez nos dernières formations en Intelligence Artificielle</p>
		</div>
		<div class="featured-formation-content">
					<!-- Formation IA Générative - Niveau Découverte -->
		<div class="featured-formation-card">
				<!-- Badge Offre Spéciale ROND avec cible -->
				<div class="special-offer-badge">
					<div class="badge-circle">
						<span class="badge-text">Offre<br>Spéciale</span>
					</div>
				</div>
				<h2 class="formation-level-title">DÉCOUVERTE</h2>
				<div class="formation-badges">
					<a href="https://www.moncompteformation.gouv.fr/espace-prive/html/#/formation/recherche/92791645200018_infpf15/92791645200018_infpf2" target="_blank" class="formation-cpf-badge">Finançable CPF</a>
					<div class="featured-formation-badge">Nouvelle Formation</div>
				</div>
				<h3 class="formation-title">Maîtriser l'IA Générative pour le Marketing</h3>
				<p class="formation-description">Découvrez comment intégrer l'intelligence artificielle dans vos stratégies marketing et communication. Formation d'initiation et accessible.</p>
				<a href="{{ path('app_formation_show', {'id': 89}) }}" class="formation-cta">
					Découvrir l'IA
				</a>
			</div>

			<!-- Formation 100% Finançable - Niveau Avancée -->
			<div class="featured-formation-card">
				<!-- Badge BEST SELLER ROND avec cible -->
				<div class="best-seller-badge">
					<div class="badge-circle">
						<span class="badge-text">BEST<br>SELLER</span>
					</div>
				</div>
				<h2 class="formation-level-title">Avancée</h2>
				<div class="formation-badges">
					<div class="featured-formation-badge">Formation Premium</div>
				</div>
				<h3 class="formation-title">Maîtriser l'IA Générative pour le Marketing</h3>
				<p class="formation-description">Maîtrisez pleinement vos compétences avec notre formation avancée. Applications concrètes, expertises sectorielles et scénarios réels.</p>
				<a href="{{ path('app_formation_show', {'id': 90}) }}" class="formation-cta">
					Accéder maintenant
				</a>
			</div>
		</div>
	</div>

		<!-- Categories Section - Système modal en premier plan -->
	<div class="categories-section" id="formations">
		<div class="container">
			<h2 class="section-title centered-title">TOUTES NOS AUTRES FORMATIONS</h2>
			<p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">Cliquez sur un thème pour découvrir les formations disponibles</p>

			<!-- Overlay pour modal -->
			<div class="modal-overlay" id="modal-overlay"></div>

			<div class="categories" id="categories-grid">
				{% for category in category %}
					<div class="category {% if category.name == 'IA' %}ia-category{% endif %}" data-category-id="{{ category.id }}" data-aos="fade-up" data-aos-delay="{{ loop.index * 30 }}">
			<div class="category-card">
							<button class="close-button">×</button>
							<img 
								src="{{ asset('img/' ~ categoryImages[category.id] ?? 'default-image.jpg') }}" 
								alt="{{ category.name }}"
								class="category-image"
							>
				<div class="category-title">{{ category.name }}</div>
							
							<div class="formations-preview">
								<h4>Formations disponibles</h4>
								<div class="formations-list">
									{% set categoryFormations = [] %}
									{% for formation in formations %}
										{% if formation.category.id == category.id %}
											{% set categoryFormations = categoryFormations|merge([formation]) %}
										{% endif %}
									{% endfor %}
									
									{% set maxFormations = 4 %}
									{% for formation in categoryFormations|slice(0, maxFormations) %}
										<div class="formation-item" data-formation-id="{{ formation.id }}" onclick="window.location.href='{{ path('app_formation_show', { 'id': formation.id }) }}'">
											<div class="formation-name">{{ formation.nameFormation }}</div>
											<div class="formation-arrow">
												<svg width="16" height="16" viewBox="0 0 24 24" fill="none">
													<path d="M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
													<path d="m12 5 7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
												</svg>
											</div>
			</div>
				{% endfor %}
									
									{% if categoryFormations|length > maxFormations %}
										<a href="{{ path('app_home') }}?category_id={{ category.id }}" class="voir-plus-button">
											Voir toutes les formations ({{ categoryFormations|length }} au total)
										</a>
									{% endif %}
								</div>
							</div>
			</div>
		</div>
	{% endfor %}
			</div>
		</div>
</div>

	<!-- CPF Section -->
	<div class="cpf-section">
		<div class="wp-block-formation-financable-cpf" data-aos="fade-up">
			<div class="wp-block-column_cpf_lady" data-aos="fade-right">
				<img src="{{ asset('img/CPF.png') }}" class="wp-image-cpf_lady" alt="formation_financable_cpf">
			</div>
			<div class="wp-block-formation-financable-cpf-texte" data-aos="fade-left">
				<h2 class="wp-block-heading has-text-color" style="color:#ffffff;font-size:clamp(2rem, 4vw, 4.1rem);margin-bottom:20px;">
					FORMATIONS à distance<br>
					<span style="color: #d71a22">100% FINANÇABLES</span> VIA VOTRE CPF
				</h2>
						<div>
					<p class="has-text-color" style="color:#e2e8f0;margin-bottom:20px;">
						L'INFPF permet à toute personne, salariée ou demandeur d'emploi, de suivre la formation de leur choix. À l'Institut national de la formation professionnelle française, les formations à distance proposées sont diversifiées et adaptées aux besoins actuels du marché du travail.
							</p>
					<p class="has-text-color" style="color:#e2e8f0;">
								Parmi nos formations éligibles au CPF, nous offrons des cours dans des domaines clés tels que : la Finance, l'Administration, l'Informatique, le Design, le Management, la Vente, le Marketing, les Langues et bien plus encore.
							</p>
						</div>
				<div class="cpf-buttons">
					<a class="wp-block-button__link" href="{{ path('redirectToFormationsEligiblesCPF')}}">Utiliser mon CPF</a>
					<a class="wp-block-button__link calendly-trigger" href="#">Conseil gratuit</a>
					</div>
					</div>
		</div>
	</div>

	<!-- Blog Section -->
	<div class="blog-sectionactualite">
		<h2 class="blog-heading" data-aos="fade-up">Actualités de l'INFPF</h2>
<div class="blog-container">
	{% for blog in blog %}
				<a href="{{ path('blog_show', {'id': blog.id}) }}" class="blog-postactualite-link">
					<div class="blog-postactualite" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}">
				{% if blog.image %}
					<img src="/uploads/images/{{ blog.image }}" class="card-img-top" alt="Image description">
				{% endif %}
				<div class="blog-post-content">
					<h3>{{ blog.titleOne }}</h3>
					<p>{{ blog.contentOne|slice(0, 150) ~ '...' }}</p>
					<span class="read-more">Voir la suite</span>
				</div>
			</div>
				</a>
	{% endfor %}
</div>	
		
		<!-- Bouton pour voir tous les articles -->
		<div class="blog-cta-container" data-aos="fade-up">
			<a href="{{ path('app_blog_index') }}" class="btn-view-all-articles">
				Voir tous les articles
			</a>
</div>
	</div>

	<!-- Video Section -->
	<div class="video-section">
		<div class="wp-block-coaching-personnalise" data-aos="fade-up">
			<div class="wp-block-videos" data-aos="fade-right">
				<video controls autoplay loop>
        <source src="{{ asset('img/video-infpf.mp4') }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>
			<div class="wp-block-coaching-personnalise-content" data-aos="fade-left">
				<h2 class="wp-block-heading wp-block-coaching-personnalise-titre" style="color:#ffffff;font-style:normal;font-weight:300;font-size:clamp(1.8rem, 3vw, 2.5rem);">
					Votre développement est notre
					<span style="color: #ffffff">
						<strong style="color: #e3f2fd;">mission</strong>
				</span>
			</h2>
				<p class="wp-block-coaching-personnalise-ss-titre" style="color:#e2e8f0;margin-bottom:20px;">À l'INFPF, nous nous engageons à vous préparer aux défis de demain.</p>
				<p class="r" style="color:#e2e8f0;margin-bottom:30px;">
				Nos programmes sont conçus pour vous équiper avec les compétences nécessaires dans des domaines clés, répondant aux exigences des métiers du nouveau monde. Nous vous offrons une formation de pointe, centrée sur l'innovation et adaptée aux évolutions constantes du marché professionnel. Rejoignez-nous pour transformer votre avenir et réaliser vos ambitions.
			</p>
				<div class="wp-block-buttons">
					<div class="wp-block-button">
						<a class="wp-block-button__link" href="{{ path('redirectToPourquoiChoisirLeInfpf')}}">Pourquoi choisir l'INFPF ?</a>
				</div>
			</div>
				</div>
			</div>
		</div>

		<!-- Contact Section Moderne et Cohérente -->
	<section class="contact-section">
		<div class="contact-content">
			<div class="contact-info" data-aos="fade-right" data-aos-duration="1000">
				<h2>Prêt à transformer votre avenir ?</h2>
				<p>Rejoignez des milliers d'apprenants qui ont fait confiance à l'INFPF pour développer leurs compétences et accélérer leur carrière.</p>
				<a href="{{ path('app_contact') }}" class="btn btn-primary">Démarrer mon projet</a>
				
				<div class="contact-features">
					<div class="contact-feature" data-aos="fade-up" data-aos-delay="200">
						<div class="contact-feature-icon">✓</div>
						<div class="contact-feature-text">Réponse sous 24h</div>
					</div>
					<div class="contact-feature" data-aos="fade-up" data-aos-delay="300">
						<div class="contact-feature-icon">B</div>
						<div class="contact-feature-text">Bilan personnalisé</div>
					</div>
					<div class="contact-feature" data-aos="fade-up" data-aos-delay="400">
						<div class="contact-feature-icon">E</div>
						<div class="contact-feature-text">Conseil expert</div>
					</div>
					<div class="contact-feature" data-aos="fade-up" data-aos-delay="500">
						<div class="contact-feature-icon">S</div>
						<div class="contact-feature-text">Suivi carrière</div>
					</div>
				</div>
	</div>

			<div class="contact-card" data-aos="fade-left" data-aos-duration="1000">
				<h3>Nos conseillers à votre écoute</h3>
				<p>Choisissez le moyen de contact qui vous convient le mieux</p>
				
				<div class="contact-methods">
					<a href="{{ path('app_contact') }}" class="contact-method" data-aos="fade-up" data-aos-delay="100">
						<div class="contact-method-icon">@</div>
						<div class="contact-method-content">
							<h4>Formulaire de contact</h4>
							<p>Décrivez votre projet en détail</p>
						</div>
					</a>
					
					<div class="contact-method phone-method" data-aos="fade-up" data-aos-delay="200" id="phone-contact">
						<div class="contact-method-icon">T</div>
						<div class="contact-method-content">
							<h4>Rendez-vous téléphonique <span class="mobile-only">APPELER</span></h4>
							<p>Échange direct avec un conseiller <br></p>
						</div>
					</div>
					
					<div class="contact-method calendly-trigger" data-aos="fade-up" data-aos-delay="300" style="cursor: pointer;">
						<div class="contact-method-icon">C</div>
						<div class="contact-method-content">
							<h4>Conseil personnalisé</h4>
							<p>Bilan de compétences gratuit</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	{% include 'footer.html.twig' %}

{% block javascripts %}
<!-- CHARGEMENT JQUERY EN PREMIER -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

	<!-- AOS Animation Library -->
	<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script defer src="https://assets.calendly.com/assets/external/widget.js"></script>
  <script>
		// Initialize AOS
		AOS.init({
			duration: 800,
			easing: 'ease-in-out',
			once: true,
			offset: 50
		});

		// Particle effect
		function createParticle() {
			const particle = document.createElement('div');
			particle.className = 'particle';
			particle.style.left = Math.random() * 100 + '%';
			particle.style.animationDelay = Math.random() * 6 + 's';
			particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
			document.getElementById('particles').appendChild(particle);

			setTimeout(() => {
				particle.remove();
			}, 6000);
		}

		// Create particles periodically
		setInterval(createParticle, 300);

				// Système modal en premier plan avec limitation de formations
    document.addEventListener('DOMContentLoaded', () => {
			const modalOverlay = document.getElementById('modal-overlay');
			
			// Fonction pour fermer la modal avec animation
			function closeModal(category) {
				category.classList.add('closing');
				modalOverlay.classList.remove('active');
				document.body.style.overflow = ''; // Réactiver le scroll
				document.body.classList.remove('modal-open'); // Retirer le masquage
				
				setTimeout(() => {
					category.classList.remove('expanded', 'closing');
				}, 400); // Durée ajustée à l'animation
			}

			// Clic sur les cartes
      document.querySelectorAll('.category-card').forEach(card => {
				card.addEventListener('click', (e) => {
					// Empêcher le clic si c'est sur le bouton fermer ou une formation
					if (e.target.classList.contains('close-button') || 
						  e.target.closest('.formation-item') ||
						  e.target.closest('.formations-preview')) {
						return;
					}

          const category = card.closest('.category');
					const isExpanded = category.classList.contains('expanded');
					
					// Fermer toutes les autres catégories
          document.querySelectorAll('.category').forEach(c => {
						if (c !== category && c.classList.contains('expanded')) {
							closeModal(c);
						}
					});
					
					// Toggle la catégorie actuelle
					if (isExpanded) {
						closeModal(category);
					} else {
						// Ouvrir la modal centrée avec transition fluide
						category.classList.add('expanded');
						modalOverlay.classList.add('active');
						document.body.style.overflow = 'hidden'; // Bloquer le scroll
						document.body.classList.add('modal-open'); // Ajouter le masquage
						
						// Animation des formations avec délai
						setTimeout(() => {
							const formationItems = category.querySelectorAll('.formation-item');
							formationItems.forEach((item, index) => {
								item.style.opacity = '0';
								item.style.transform = 'translateX(-20px)';
								setTimeout(() => {
									item.style.transition = 'all 0.3s ease';
									item.style.opacity = '1';
									item.style.transform = 'translateX(0)';
								}, index * 80);
							});
						}, 200);
					}
        });
      });

			// Fermeture par clic sur le bouton fermer
			document.addEventListener('click', (e) => {
				if (e.target.classList.contains('close-button')) {
					const category = e.target.closest('.category');
					closeModal(category);
				}
			});

			// Fermeture par clic sur l'overlay
			modalOverlay.addEventListener('click', () => {
				const expandedCategory = document.querySelector('.category.expanded');
				if (expandedCategory) {
					closeModal(expandedCategory);
				}
			});

			// Fermer avec la touche Échap
			document.addEventListener('keydown', (e) => {
				if (e.key === 'Escape') {
					const expandedCategory = document.querySelector('.category.expanded');
					if (expandedCategory) {
						closeModal(expandedCategory);
					}
				}
			});

			// Enhanced CTA buttons
			const buttons = document.querySelectorAll('#cta-rdv, #cta-rdv-2, .calendly-trigger');
			buttons.forEach(btn => {
				btn.addEventListener('click', function(e) {
          e.preventDefault();
					
					// Add click animation
					this.style.transform = 'scale(0.95)';
					setTimeout(() => {
						this.style.transform = '';
					}, 150);

					if (typeof Calendly !== 'undefined') {
						Calendly.initPopupWidget({ url: 'https://calendly.com/contact-infpf?locale=fr' });
					} else {
						console.error("Calendly non chargé");
					}
          });
        });

			// Gestion du bouton téléphone adaptatif
			const phoneContact = document.getElementById('phone-contact');
			if (phoneContact) {
				phoneContact.addEventListener('click', function(e) {
					e.preventDefault();
					
					// Détection mobile/desktop
					const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
					
					if (isMobile) {
						// Sur mobile : ouvrir l'application téléphone
						window.location.href = 'tel:0489050355';
					} else {
						// Sur desktop : afficher une notification avec le numéro
						showPhoneNotification('Tél. 04 89 05 03 55');
					}
					
					// Animation de clic
					this.style.transform = 'scale(0.95)';
					setTimeout(() => {
						this.style.transform = '';
					}, 150);
				});
			}

			// Fonction pour afficher le numéro sur desktop
			function showPhoneNotification(phoneNumber) {
				// Vérifier si une notification existe déjà
				const existingNotification = document.querySelector('.phone-notification');
				if (existingNotification) {
					existingNotification.remove();
				}

				const notification = document.createElement('div');
				notification.className = 'phone-notification';
				notification.style.cssText = `
					position: fixed;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
					background: linear-gradient(135deg, #0b3f89 0%, #1e5cb8 100%);
					color: white;
					padding: 30px 40px;
					border-radius: 16px;
					z-index: 10000;
					font-family: Arial, sans-serif;
					font-size: 18px;
					font-weight: 600;
					text-align: center;
					box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
					animation: phoneNotificationAppear 0.3s ease;
					backdrop-filter: blur(10px);
					border: 2px solid rgba(255, 255, 255, 0.2);
				`;

				notification.innerHTML = `
					<div style="margin-bottom: 15px; font-size: 24px;">TEL</div>
					<div style="margin-bottom: 10px;">Appelez-nous maintenant :</div>
					<div style="font-size: 24px; font-weight: 700; margin-bottom: 15px; letter-spacing: 1px;">${phoneNumber}</div>
					<div style="font-size: 14px; opacity: 0.9;">Nos conseillers sont disponibles</div>
					<button onclick="this.parentElement.remove()" style="
						background: rgba(255, 255, 255, 0.2);
						border: 1px solid rgba(255, 255, 255, 0.3);
						color: white;
						padding: 8px 16px;
						border-radius: 20px;
						margin-top: 15px;
						cursor: pointer;
						font-size: 12px;
						transition: all 0.3s ease;
					" onmouseover="this.style.background='rgba(255, 255, 255, 0.3)'" onmouseout="this.style.background='rgba(255, 255, 255, 0.2)'">Fermer</button>
				`;

				document.body.appendChild(notification);

				// Auto-fermeture après 5 secondes
				setTimeout(() => {
					if (notification.parentElement) {
						notification.style.animation = 'phoneNotificationDisappear 0.3s ease forwards';
						setTimeout(() => notification.remove(), 300);
					}
				}, 5000);

				// Fermeture au clic en dehors
				const closeOnClickOutside = (e) => {
					if (!notification.contains(e.target)) {
						notification.remove();
						document.removeEventListener('click', closeOnClickOutside);
					}
				};
				setTimeout(() => document.addEventListener('click', closeOnClickOutside), 100);
			}

			// Smooth scroll for internal links
			document.querySelectorAll('a[href^="#"]').forEach(anchor => {
				anchor.addEventListener('click', function (e) {
					e.preventDefault();
					const target = document.querySelector(this.getAttribute('href'));
					if (target) {
						target.scrollIntoView({
							behavior: 'smooth',
							block: 'start'
        });
      }
    });
			});

			// SUPPRESSION DE L'EFFET PARALLAX - Le titre reste fixe
			// (Code parallax retiré)

			// Add intersection observer for advanced animations
			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						entry.target.style.animationPlayState = 'running';
					}
				});
			});

			document.querySelectorAll('.category-card, .blog-postactualite').forEach(el => {
				observer.observe(el);
			});
		});
  </script>

<!-- Bandeau service client (juste avant la fin du hero ou avant le main) -->
<img id="btnScrollTop" src="{{ asset('img/btn_fleche0.png') }}" alt="Retour en haut" class="bouton-retour-haut" style="display:none; position:fixed; bottom:40px; right:30px; z-index:9999; width:48px; height:48px; cursor:pointer; box-shadow:0 4px 16px rgba(11,63,137,0.15); border-radius:50%; background:white; border:2px solid #0b3f89; transition:box-shadow 0.2s;">

<script>
document.addEventListener("DOMContentLoaded", function () {
  const btn = document.getElementById("btnScrollTop");
  if (!btn) return;
  window.addEventListener("scroll", function () {
    btn.style.display = window.scrollY > 300 ? "block" : "none";
  });
  btn.addEventListener("click", function () {
    window.scrollTo({
      top: 0,
      behavior: "smooth"
    });
  });
});
</script>

<!-- --- MENU BURGER (copié de base.html.twig) --- -->


<script>
document.addEventListener('DOMContentLoaded', function() {
  if (window.innerWidth <= 768) {
    document.querySelectorAll('.menu-item-has-children > a').forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        var parentLi = link.parentElement;
        var currentSubMenu = link.nextElementSibling;
        var isOpen = currentSubMenu.classList.contains('sub-menu--active');
        // Ferme tous les autres sous-menus
        document.querySelectorAll('.menu .sub-menu').forEach(function(sm) {
          if (sm !== currentSubMenu) {
            sm.classList.remove('sub-menu--active');
            sm.parentElement.classList.remove('clicked');
          }
        });
        if (!isOpen) {
          currentSubMenu.classList.add('sub-menu--active');
          parentLi.classList.add('clicked');
        } else {
          currentSubMenu.classList.remove('sub-menu--active');
          parentLi.classList.remove('clicked');
        }
      });
    });
  }
});

// ===== FORMATION SELECTOR MODERNE - JavaScript Simple =====
let isDropdownOpen = false;

// S'assurer que les fonctions sont globales
window.toggleFormationDropdown = function() {
    console.log('Toggle clicked! Function called successfully');
    const dropdown = document.getElementById('formationDropdown');
    const arrow = document.getElementById('placeholderArrow');
    const selector = document.getElementById('formationSelector');
    const placeholder = document.getElementById('formationPlaceholder');
    
    console.log('Elements found:', {dropdown, arrow, selector, placeholder});
    
    if (!dropdown || !arrow || !selector || !placeholder) {
        console.error('Some elements not found!');
        return;
    }
    
    if (isDropdownOpen) {
        // Fermer
        console.log('Closing dropdown and overlay');
        
        // 1. Masquer l'overlay
        const overlay = document.getElementById('formation-dropdown-overlay');
        if (overlay) {
            overlay.style.display = 'none';
        }
        
        // 2. Remettre le dropdown dans son container original
        const formationSelector = document.getElementById('formationSelector');
        if (formationSelector) {
            formationSelector.appendChild(dropdown);
        }
        
        // 3. Masquer le dropdown
        dropdown.style.display = 'none';
        arrow.style.transform = 'rotate(0deg)';
        selector.removeAttribute('data-open');
        
        isDropdownOpen = false;
    } else {
        // SOLUTION NUCLÉAIRE - Créer un overlay modal
        console.log('Opening dropdown with overlay');
        
        // 1. Créer l'overlay si il n'existe pas
        let overlay = document.getElementById('formation-dropdown-overlay');
        if (!overlay) {
            overlay = document.createElement('div');
            overlay.id = 'formation-dropdown-overlay';
            overlay.style.cssText = `
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100vw !important;
                height: 100vh !important;
                background: rgba(0, 0, 0, 0.3) !important;
                z-index: 2147483640 !important;
                display: none !important;
            `;
            // Fermer en cliquant sur l'overlay
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    window.toggleFormationDropdown();
                }
            });
            document.body.appendChild(overlay);
        }
        
        // 2. Afficher l'overlay
        overlay.style.display = 'block';
        
        // 3. Déplacer le dropdown dans l'overlay
        overlay.appendChild(dropdown);
        
        // 4. Styler et positionner le dropdown - CENTRÉ
        dropdown.style.cssText = `
            position: fixed !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            width: 90% !important;
            max-width: 800px !important;
            max-height: 80vh !important;
            z-index: 2147483647 !important;
            background: #ffffff !important;
            border: 3px solid #0b3f89 !important;
            border-radius: 25px !important;
            box-shadow: 0 25px 80px rgba(11, 63, 137, 0.8) !important;
            overflow-y: auto !important;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
            padding-top: 60px !important;
        `;
        console.log('Modal centré avec overlay');
        
        arrow.style.transform = 'rotate(180deg)';
        selector.setAttribute('data-open', 'true');
        isDropdownOpen = true;
    }
};

// Alias pour compatibilité
function toggleFormationDropdown() {
    window.toggleFormationDropdown();
}

// ===== DIAGNOSTIC ULTRA DÉTAILLÉ DROPDOWN IA =====
function diagnosticDropdownIA() {
    console.log('🔍 === DÉBUT DIAGNOSTIC DROPDOWN IA ===');
    
    // 1. Vérifier que le dropdown existe
    const dropdown = document.getElementById('formationDropdown');
    console.log('🎯 Dropdown trouvé:', dropdown ? 'OUI' : 'NON');
    
    if (!dropdown) {
        console.log('❌ DROPDOWN INTROUVABLE !');
        return;
    }
    
    // 2. Chercher la section IA
    const iaSection = dropdown.querySelector('[data-category="ia"]');
    console.log('🎯 Section IA trouvée:', iaSection ? 'OUI' : 'NON');
    console.log('📊 Data-category de la section IA:', iaSection ? iaSection.getAttribute('data-category') : 'N/A');
    
    if (!iaSection) {
        console.log('❌ SECTION IA INTROUVABLE !');
        console.log('🔍 Toutes les sections trouvées:');
        const allSections = dropdown.querySelectorAll('[data-category]');
        allSections.forEach((section, i) => {
            console.log(`   ${i+1}. data-category="${section.getAttribute('data-category')}"`);
        });
        return;
    }
    
    // 3. Chercher le header de la section IA
    const iaHeader = iaSection.querySelector('.category-header');
    console.log('🎯 Header IA trouvé:', iaHeader ? 'OUI' : 'NON');
    
    if (!iaHeader) {
        console.log('❌ HEADER IA INTROUVABLE !');
        return;
    }
    
    // 4. DIAGNOSTIC COMPLET DU HEADER IA
    console.log('📊 === DIAGNOSTIC HEADER IA ===');
    console.log('  📍 Tag name:', iaHeader.tagName);
    console.log('  📍 Class list:', iaHeader.className);
    console.log('  📍 ID:', iaHeader.id || 'AUCUN');
    
    // 5. STYLES APPLIQUÉS
    const computedStyle = window.getComputedStyle(iaHeader);
    console.log('📊 === STYLES COMPUTED ===');
    console.log('  🎨 Background:', computedStyle.background);
    console.log('  🎨 Background-color:', computedStyle.backgroundColor);
    console.log('  🎨 Background-image:', computedStyle.backgroundImage);
    console.log('  🎨 Color:', computedStyle.color);
    console.log('  🎨 Border:', computedStyle.border);
    
    // 6. STYLES INLINE
    console.log('📊 === STYLES INLINE ===');
    console.log('  🎨 Style attribute:', iaHeader.getAttribute('style') || 'AUCUN');
    console.log('  🎨 Inline background:', iaHeader.style.background || 'AUCUN');
    console.log('  🎨 Inline backgroundColor:', iaHeader.style.backgroundColor || 'AUCUN');
    
    // 7. CHERCHER LES RÈGLES CSS QUI S'APPLIQUENT
    console.log('📊 === RÈGLES CSS MATCHÉES ===');
    try {
        const matchedRules = [];
        for (let sheet of document.styleSheets) {
            try {
                for (let rule of sheet.cssRules) {
                    if (rule.selectorText && iaHeader.matches(rule.selectorText)) {
                        matchedRules.push({
                            selector: rule.selectorText,
                            background: rule.style.background || rule.style.backgroundColor,
                            text: rule.cssText
                        });
                    }
                }
            } catch (e) {
                console.log('  ⚠️ Impossible de lire la feuille de style:', sheet.href);
            }
        }
        console.log('  🎯 Règles matchées:', matchedRules);
    } catch (e) {
        console.log('  ❌ Erreur lors de l\'analyse des CSS:', e);
    }
    
    // 8. HIÉRARCHIE DES PARENTS
    console.log('📊 === HIÉRARCHIE PARENTS ===');
    let parent = iaHeader.parentElement;
    let level = 1;
    while (parent && level <= 5) {
        const parentStyle = window.getComputedStyle(parent);
        console.log(`  📍 Niveau ${level} - ${parent.tagName}:`);
        console.log(`    Class: ${parent.className}`);
        console.log(`    Background: ${parentStyle.background || parentStyle.backgroundColor}`);
        console.log(`    Z-index: ${parentStyle.zIndex}`);
        console.log(`    Position: ${parentStyle.position}`);
        parent = parent.parentElement;
        level++;
    }
    
    // 9. FORCE LE STYLE DORÉ
    console.log('🔥 === FORCE STYLE DORÉ ===');
    console.log('  📝 Avant forçage:');
    console.log('    Background computed:', window.getComputedStyle(iaHeader).background);
    
    // FORÇAGE MULTIPLE MÉTHODES
    iaHeader.style.setProperty('background', 'linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%)', 'important');
    iaHeader.style.setProperty('background-color', '#FFD700', 'important');
    iaHeader.style.setProperty('color', '#1a1a1a', 'important');
    iaHeader.style.setProperty('border', '2px solid #FFD700', 'important');
    
    // Forçage par attribut
    const currentStyle = iaHeader.getAttribute('style') || '';
    iaHeader.setAttribute('style', currentStyle + '; background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%) !important; background-color: #FFD700 !important; color: #1a1a1a !important;');
    
    console.log('  📝 Après forçage:');
    console.log('    Background computed:', window.getComputedStyle(iaHeader).background);
    console.log('    Style attribute:', iaHeader.getAttribute('style'));
    
    // 10. CHERCHER LES ÉLÉMENTS QUI POURRAIENT CACHER LE HEADER (SEULEMENT DANS LE DROPDOWN)
    console.log('🕵️ === RECHERCHE ÉLÉMENTS BLEUS SUSPECTS (DROPDOWN UNIQUEMENT) ===');
    const dropdownElements = dropdown.querySelectorAll('*');
    const suspiciousElements = [];
    
    dropdownElements.forEach(el => {
        const style = window.getComputedStyle(el);
        const bg = style.background + ' ' + style.backgroundColor;
        
        if (bg.includes('rgb(11, 63, 137)') || bg.includes('#0b3f89') || bg.includes('0b3f89')) {
            const rect = el.getBoundingClientRect();
            const headerRect = iaHeader.getBoundingClientRect();
            
            // Vérifier si ça chevauche ET si c'est dans le même dropdown
            if (rect.left < headerRect.right && rect.right > headerRect.left &&
                rect.top < headerRect.bottom && rect.bottom > headerRect.top &&
                dropdown.contains(el)) {
                
                suspiciousElements.push({
                    element: el,
                    tag: el.tagName,
                    class: el.className,
                    id: el.id,
                    background: bg,
                    zIndex: style.zIndex,
                    position: style.position
                });
            }
        }
    });
    
    console.log('🚨 ÉLÉMENTS BLEUS SUSPECTS qui chevauchent:', suspiciousElements);
    
    // 11. SUPPRESSION DES ÉLÉMENTS BLEUS SUSPECTS (SÉLECTIF)
    suspiciousElements.forEach((suspect, i) => {
        // NE PAS toucher au hero banner, section principale, ou éléments importants
        const isHeroOrMainSection = suspect.element.classList.contains('hero-section') || 
                                  suspect.element.classList.contains('hero') ||
                                  suspect.element.classList.contains('bandeau') ||
                                  suspect.element.tagName === 'SECTION' ||
                                  suspect.element.tagName === 'MAIN' ||
                                  suspect.element.tagName === 'BODY' ||
                                  suspect.element.tagName === 'HTML';
        
        if (!isHeroOrMainSection) {
            console.log(`🗑️ Neutralisation élément suspect ${i+1}:`, suspect.element);
            suspect.element.style.setProperty('background', 'transparent', 'important');
            suspect.element.style.setProperty('background-color', 'transparent', 'important');
            suspect.element.style.setProperty('background-image', 'none', 'important');
        } else {
            console.log(`🛡️ Protection élément important ${i+1} (non neutralisé):`, suspect.element);
        }
    });
    
    console.log('✅ === FIN DIAGNOSTIC DROPDOWN IA ===');
}

// FONCTION POUR RESTAURER LE HERO BANNER ORIGINAL
function restoreHeroBackground() {
    console.log('🔄 Restauration du background hero original...');
    
    // Chercher les éléments hero
    const heroElements = document.querySelectorAll('.hero-section, .hero, .bandeau, section[class*="hero"]');
    
    heroElements.forEach((hero, i) => {
        console.log(`🏠 Restauration hero ${i+1}:`, hero);
        
        // Supprimer les styles forcés précédemment
        hero.style.removeProperty('background');
        hero.style.removeProperty('background-color');
        hero.style.removeProperty('background-image');
        
        // Force le style original si nécessaire
        if (hero.classList.contains('hero-section')) {
            hero.style.setProperty('background', 'linear-gradient(135deg, #0b3f89 0%, #1e5cb8 50%, #00b4d8 100%)', 'important');
        }
        
        console.log(`✅ Hero ${i+1} restauré`);
    });
}

// LANCER LE DIAGNOSTIC
document.addEventListener('DOMContentLoaded', function() {
    // Diagnostic immédiat
    setTimeout(() => {
        console.log('🚀 Lancement diagnostic immédiat...');
        diagnosticDropdownIA();
    }, 1000);
    
    // Observer le dropdown pour diagnostiquer quand il s'ouvre ET restaurer quand il se ferme
    const dropdown = document.getElementById('formationDropdown');
    if (dropdown) {
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                    const target = mutation.target;
                    if (target.style.display !== 'none' && target.style.visibility !== 'hidden') {
                        console.log('👁️ Dropdown ouvert, lancement diagnostic...');
                        setTimeout(() => diagnosticDropdownIA(), 100);
                    } else if (target.style.display === 'none' || target.style.visibility === 'hidden') {
                        console.log('👁️ Dropdown fermé, restauration hero...');
                        setTimeout(() => restoreHeroBackground(), 50);
                    }
                }
            });
        });
        observer.observe(dropdown, { attributes: true, attributeFilter: ['style'] });
    }
    
    // Diagnostic aussi au clic sur le sélecteur
    const selector = document.getElementById('formationSelector');
    if (selector) {
        selector.addEventListener('click', function() {
            console.log('🖱️ Clic sur sélecteur, diagnostic dans 500ms...');
            setTimeout(() => diagnosticDropdownIA(), 500);
        });
    }
});

window.selectFormation = function(formationId) {
    console.log('Formation selected:', formationId);
    
    // Animation de sélection
    if (event && event.target) {
        const card = event.target.closest('.formation-card');
        if (card) {
            card.style.transform = 'scale(0.95)';
            card.style.transition = 'transform 0.1s ease';
        }
    }
    
    setTimeout(() => {
        // Redirection vers la formation
        console.log('Redirecting to:', `/formation/${formationId}`);
        window.location.href = '/formation/' + formationId;
    }, 100);
};

// Alias pour compatibilité
function selectFormation(formationId) {
    window.selectFormation(formationId);
}

// Composant formation selector opérationnel

// Fermer le dropdown si on clique en dehors (désactivé temporairement pour debug)
document.addEventListener('click', function(event) {
    const selector = document.getElementById('formationSelector');
    const dropdown = document.getElementById('formationDropdown');
    
    // Vérifier si le clic est vraiment en dehors
    if (isDropdownOpen && selector && dropdown) {
        const isClickInSelector = selector.contains(event.target);
        const isClickInDropdown = dropdown.contains(event.target);
        
        console.log('Click detected:', {
            isClickInSelector,
            isClickInDropdown,
            target: event.target,
            isDropdownOpen
        });
        
        // Ne fermer que si vraiment en dehors
        if (!isClickInSelector && !isClickInDropdown) {
            console.log('Closing dropdown due to outside click');
            window.toggleFormationDropdown();
        }
  }
});
</script>
{% endblock %}

{% endblock %}


